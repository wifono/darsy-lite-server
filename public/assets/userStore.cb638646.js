import{ad as h,ae as p}from"./index.44e2cc04.js";import{api as u}from"./axios.7aa860db.js";const y=h("Users",{state:()=>({info:null,role:null,user:null,email:null,company:null,companyId:null,userCompany:null,users:[],filteredUsers:[]}),getters:{selectOptions(){var s;return this.filteredUsers=[],this.role==="admin"?this.filteredUsers=this.users:this.role==="reception"&&(this.filteredUsers=(s=this.users)==null?void 0:s.filter(e=>e.companyId===this.companyId)),this.filteredUsers.map(e=>({label:e.name+" - "+(e.companyName?e.companyName:"Bez firmy"),value:e._id}))||[]}},actions:{async getUser(){var s,e,t,i,r,a,o,n,l,m;this.info=JSON.parse(localStorage.getItem("credentials")),this.user=(e=(s=this.info)==null?void 0:s.user)==null?void 0:e.name,this.role=(i=(t=this.info)==null?void 0:t.user)==null?void 0:i.role,this.email=(a=(r=this.info)==null?void 0:r.user)==null?void 0:a.email,this.userCompany=(n=(o=this.info)==null?void 0:o.user)!=null&&n.companyName?this.info.user.companyName:"Bez spolo\u010Dnosti",this.userCompanyId=(m=(l=this.info)==null?void 0:l.user)!=null&&m.companyId?this.info.user.companyId:""},async getUsers(){try{const s=await u.get("users");this.users=s.data.data}catch{p.create({message:"Chyba pri z\xEDskavan\xED zamestnancov.",color:"warning",position:"top"})}}}});export{y as u};
