import{d as p,Q as n}from"./QForm.a33cab52.js";import{x as c,r as i,y as g,z as y,B as s,f as l,A as d,Q as f,ae as v}from"./index.3c6c0f9a.js";import{u as k,Q as b}from"./configStore.7ad74261.js";import{api as h}from"./axios.e853347c.js";import{u as _}from"./userStore.3ae0dd88.js";const w={class:"login-page",style:{display:"flex","align-items":"center","justify-content":"center",height:"100vh","background-size":"cover","background-position":"center"}},x={class:"buttons",style:{"text-align":"center"}},N={__name:"LoginPage",setup(V){const m=c(),o=i(null),r=i(null);k(),_();const u=async()=>{try{const e=await h.post("authentication",{email:o.value,password:r.value,strategy:"local"});e.status===201&&(localStorage.setItem("credentials",JSON.stringify(e.data)),localStorage.setItem("accessToken",e.data.accessToken),m.push("/"))}catch(e){console.error(e),v.create({message:"Prihl\xE1senie ne\xFAspe\u0161n\xE9, ",color:"negative",position:"top"})}};return(e,t)=>(g(),y("div",w,[t[3]||(t[3]=s("div",{class:"overlay"},null,-1)),l(b,{class:"my-card",style:{"border-radius":"0.6em",padding:"2em"},dark:e.$q.dark.mode},{default:d(()=>[t[2]||(t[2]=s("header",{style:{padding:"1em","text-align":"left",display:"flex","align-items":"center",gap:"1em"}},[s("img",{src:"/nov_novelogo.png",style:{width:"6em"}}),s("section",null,[s("h1",{style:{"font-size":"1.5em","font-weight":"600","line-height":"0.5em"}}," Prihl\xE1ste sa "),s("span",null,"Pokra\u010Dujte do slu\u017Eby NOV Kalend\xE1r")])],-1)),l(p,{style:{padding:"1em 2em 1em 2em !important",display:"flex","flex-direction":"column"},onSubmit:u,class:"q-gutter-md",disable:!o.value||!r.value},{default:d(()=>[l(n,{style:{width:"30em","margin-bottom":"1em"},modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a),type:"text",label:"E-mail",dark:e.$q.dark.mode,rules:[a=>!!a||"E-mail je povinn\xFD"]},null,8,["modelValue","dark","rules"]),l(n,{style:{width:"30em","margin-bottom":"1em"},modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=a=>r.value=a),type:"password",label:"Heslo",dark:e.$q.dark.mode,rules:[a=>!!a||"Heslo je povinn\xE9"]},null,8,["modelValue","dark","rules"]),s("div",x,[l(f,{label:"Prihl\xE1si\u0165 sa",type:"submit",color:"primary",size:"medium"})])]),_:1},8,["disable"])]),_:1},8,["dark"])]))}};export{N as default};
