import{k as De,l as Je,r as q,c as l,w as v,m as Te,n as xe,p as _e,q as Xe,h as z,t as Ye,g as Ae,u as $e,v as Ze,i as et,x as we,o as He,y as Ce,z as ee,A as Oe,B as tt,C as at,D as ot,E as J,G as X,H as u,f as r,Q as lt,I as j,J as Y,K as E,L as nt,M as D,N as re,O as Pe,R as ue}from"./index.aa0ee168.js";import{u as it,a as Ie,b as ke,v as qe,c as rt,d as We,e as ut,f as Ve,g as st,h as dt,i as ct,j as Ee,k as vt,r as Be,s as ft,l as Me,p as Le,m as mt,n as ht,o as yt,q as se,Q as de,t as ce}from"./use-prevent-scroll.e9912bc1.js";import{u as gt,Q as bt,a as wt,b as kt,c as pt,d as Tt}from"./use-quasar.7d2ef7ba.js";import{T as pe,Q as St,a as xt}from"./QScrollArea.7b890e0e.js";import{u as _t,a as Ct}from"./use-dark.303ff613.js";import{u as Ot}from"./userStore.09bdaa00.js";import"./roomStore.23bb9896.js";import{_ as Pt}from"./plugin-vue_export-helper.21dcd24c.js";import"./QScrollObserver.9ec31f42.js";import"./axios.55a7e266.js";import"./axios.0ed95acd.js";var Z=De({name:"QTooltip",inheritAttrs:!1,props:{...it,...Ie,...ke,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ke.transitionShow,default:"jump-down"},transitionHide:{...ke.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:qe},self:{type:String,default:"top middle",validator:qe},offset:{type:Array,default:()=>[14,14],validator:rt},scrollTarget:Je,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...We],setup(e,{slots:T,emit:g,attrs:p}){let n,d;const A=Ae(),{proxy:{$q:f}}=A,S=q(null),C=q(!1),a=l(()=>Le(e.anchor,f.lang.rtl)),$=l(()=>Le(e.self,f.lang.rtl)),b=l(()=>e.persistent!==!0),{registerTick:H,removeTick:s}=ut(),{registerTimeout:x}=Ve(),{transitionProps:m,transitionStyle:i}=st(e),{localScrollTarget:N,changeScrollEvent:te,unconfigureScrollTarget:ae}=dt(e,le),{anchorEl:y,canShow:I,anchorEvents:W}=ct({showing:C,configureAnchorEl:V}),{show:ve,hide:B}=Ee({showing:C,canShow:I,handleShow:M,handleHide:R,hideOnRouteChange:b,processOnMount:!0});Object.assign(W,{delayShow:U,delayHide:K});const{showPortal:w,hidePortal:O,renderPortal:oe}=vt(A,S,me,"tooltip");if(f.platform.is.mobile===!0){const c={anchorEl:y,innerRef:S,onClickOutside(P){return B(P),P.target.classList.contains("q-dialog__backdrop")&&Ze(P),!0}},G=l(()=>e.modelValue===null&&e.persistent!==!0&&C.value===!0);v(G,P=>{(P===!0?mt:Be)(c)}),Te(()=>{Be(c)})}function M(c){w(),H(()=>{d=new MutationObserver(()=>_()),d.observe(S.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),_(),le()}),n===void 0&&(n=v(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,_)),x(()=>{w(!0),g("show",c)},e.transitionDuration)}function R(c){s(),O(),F(),x(()=>{O(!0),g("hide",c)},e.transitionDuration)}function F(){d!==void 0&&(d.disconnect(),d=void 0),n!==void 0&&(n(),n=void 0),ae(),xe(W,"tooltipTemp")}function _(){ft({targetEl:S.value,offset:e.offset,anchorEl:y.value,anchorOrigin:a.value,selfOrigin:$.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function U(c){if(f.platform.is.mobile===!0){Me(),document.body.classList.add("non-selectable");const G=y.value,P=["touchmove","touchcancel","touchend","click"].map(ne=>[G,ne,"delayHide","passiveCapture"]);_e(W,"tooltipTemp",P)}x(()=>{ve(c)},e.delay)}function K(c){f.platform.is.mobile===!0&&(xe(W,"tooltipTemp"),Me(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),x(()=>{B(c)},e.hideDelay)}function V(){if(e.noParentEvent===!0||y.value===null)return;const c=f.platform.is.mobile===!0?[[y.value,"touchstart","delayShow","passive"]]:[[y.value,"mouseenter","delayShow","passive"],[y.value,"mouseleave","delayHide","passive"]];_e(W,"anchor",c)}function le(){if(y.value!==null||e.scrollTarget!==void 0){N.value=Xe(y.value,e.scrollTarget);const c=e.noParentEvent===!0?_:B;te(N.value,c)}}function fe(){return C.value===!0?z("div",{...p,ref:S,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",p.class],style:[p.style,i.value],role:"tooltip"},$e(T.default)):null}function me(){return z(Ye,m.value,fe)}return Te(F),Object.assign(A.proxy,{updatePosition:_}),oe}});const Qe=150;var qt=De({name:"QDrawer",inheritAttrs:!1,props:{...Ie,..._t,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...We,"onLayout","miniState"],setup(e,{slots:T,emit:g,attrs:p}){const n=Ae(),{proxy:{$q:d}}=n,A=Ct(e,d),{preventBodyScroll:f}=yt(),{registerTimeout:S,removeTimeout:C}=Ve(),a=et(tt,we);if(a===we)return console.error("QDrawer needs to be child of QLayout"),we;let $,b=null,H;const s=q(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),x=l(()=>e.mini===!0&&s.value!==!0),m=l(()=>x.value===!0?e.miniWidth:e.width),i=q(e.showIfAbove===!0&&s.value===!1?!0:e.modelValue===!0),N=l(()=>e.persistent!==!0&&(s.value===!0||le.value===!0));function te(t,o){if(W(),t!==!1&&a.animate(),k(0),s.value===!0){const h=a.instances[_.value];h!==void 0&&h.belowBreakpoint===!0&&h.hide(!1),L(1),a.isContainer.value!==!0&&f(!0)}else L(0),t!==!1&&ye(!1);S(()=>{t!==!1&&ye(!0),o!==!0&&g("show",t)},Qe)}function ae(t,o){ve(),t!==!1&&a.animate(),L(0),k(O.value*m.value),ge(),o!==!0?S(()=>{g("hide",t)},Qe):C()}const{show:y,hide:I}=Ee({showing:i,hideOnRouteChange:N,handleShow:te,handleHide:ae}),{addToHistory:W,removeFromHistory:ve}=ht(i,I,N),B={belowBreakpoint:s,hide:I},w=l(()=>e.side==="right"),O=l(()=>(d.lang.rtl===!0?-1:1)*(w.value===!0?1:-1)),oe=q(0),M=q(!1),R=q(!1),F=q(m.value*O.value),_=l(()=>w.value===!0?"left":"right"),U=l(()=>i.value===!0&&s.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:m.value:0),K=l(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(w.value?"R":"L")!==-1||d.platform.is.ios===!0&&a.isContainer.value===!0),V=l(()=>e.overlay===!1&&i.value===!0&&s.value===!1),le=l(()=>e.overlay===!0&&i.value===!0&&s.value===!1),fe=l(()=>"fullscreen q-drawer__backdrop"+(i.value===!1&&M.value===!1?" hidden":"")),me=l(()=>({backgroundColor:`rgba(0,0,0,${oe.value*.4})`})),c=l(()=>w.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),G=l(()=>w.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),P=l(()=>{const t={};return a.header.space===!0&&c.value===!1&&(K.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&G.value===!1&&(K.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),ne=l(()=>{const t={width:`${m.value}px`,transform:`translateX(${F.value}px)`};return s.value===!0?t:Object.assign(t,P.value)}),je=l(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),ze=l(()=>`q-drawer q-drawer--${e.side}`+(R.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(A.value===!0?" q-drawer--dark q-dark":"")+(M.value===!0?" no-transition":i.value===!0?"":" q-layout--prevent-focus")+(s.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${x.value===!0?"mini":"standard"}`+(K.value===!0||V.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(c.value===!0?" q-drawer--top-padding":""))),Ne=l(()=>{const t=d.lang.rtl===!0?e.side:_.value;return[[pe,Ke,void 0,{[t]:!0,mouse:!0}]]}),Re=l(()=>{const t=d.lang.rtl===!0?_.value:e.side;return[[pe,Se,void 0,{[t]:!0,mouse:!0}]]}),Fe=l(()=>{const t=d.lang.rtl===!0?_.value:e.side;return[[pe,Se,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function he(){Ge(s,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}v(s,t=>{t===!0?($=i.value,i.value===!0&&I(!1)):e.overlay===!1&&e.behavior!=="mobile"&&$!==!1&&(i.value===!0?(k(0),L(0),ge()):y(!1))}),v(()=>e.side,(t,o)=>{a.instances[o]===B&&(a.instances[o]=void 0,a[o].space=!1,a[o].offset=0),a.instances[t]=B,a[t].size=m.value,a[t].space=V.value,a[t].offset=U.value}),v(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&he()}),v(()=>e.behavior+e.breakpoint,he),v(a.isContainer,t=>{i.value===!0&&f(t!==!0),t===!0&&he()}),v(a.scrollbarWidth,()=>{k(i.value===!0?0:void 0)}),v(U,t=>{Q("offset",t)}),v(V,t=>{g("onLayout",t),Q("space",t)}),v(w,()=>{k()}),v(m,t=>{k(),be(e.miniToOverlay,t)}),v(()=>e.miniToOverlay,t=>{be(t,m.value)}),v(()=>d.lang.rtl,()=>{k()}),v(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Ue(),a.animate())}),v(x,t=>{g("miniState",t)});function k(t){t===void 0?Ce(()=>{t=i.value===!0?0:m.value,k(O.value*t)}):(a.isContainer.value===!0&&w.value===!0&&(s.value===!0||Math.abs(t)===m.value)&&(t+=O.value*a.scrollbarWidth.value),F.value=t)}function L(t){oe.value=t}function ye(t){const o=t===!0?"remove":a.isContainer.value!==!0?"add":"";o!==""&&document.body.classList[o]("q-body--drawer-toggle")}function Ue(){b!==null&&clearTimeout(b),n.proxy&&n.proxy.$el&&n.proxy.$el.classList.add("q-drawer--mini-animate"),R.value=!0,b=setTimeout(()=>{b=null,R.value=!1,n&&n.proxy&&n.proxy.$el&&n.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Ke(t){if(i.value!==!1)return;const o=m.value,h=se(t.distance.x,0,o);if(t.isFinal===!0){h>=Math.min(75,o)===!0?y():(a.animate(),L(0),k(O.value*o)),M.value=!1;return}k((d.lang.rtl===!0?w.value!==!0:w.value)?Math.max(o-h,0):Math.min(0,h-o)),L(se(h/o,0,1)),t.isFirst===!0&&(M.value=!0)}function Se(t){if(i.value!==!0)return;const o=m.value,h=t.direction===e.side,ie=(d.lang.rtl===!0?h!==!0:h)?se(t.distance.x,0,o):0;if(t.isFinal===!0){Math.abs(ie)<Math.min(75,o)===!0?(a.animate(),L(1),k(0)):I(),M.value=!1;return}k(O.value*ie),L(se(1-ie/o,0,1)),t.isFirst===!0&&(M.value=!0)}function ge(){f(!1),ye(!0)}function Q(t,o){a.update(e.side,t,o)}function Ge(t,o){t.value!==o&&(t.value=o)}function be(t,o){Q("size",t===!0?e.miniWidth:o)}return a.instances[e.side]=B,be(e.miniToOverlay,m.value),Q("space",V.value),Q("offset",U.value),e.showIfAbove===!0&&e.modelValue!==!0&&i.value===!0&&e["onUpdate:modelValue"]!==void 0&&g("update:modelValue",!0),He(()=>{g("onLayout",V.value),g("miniState",x.value),$=e.showIfAbove===!0;const t=()=>{(i.value===!0?te:ae)(!1,!0)};if(a.totalWidth.value!==0){Ce(t);return}H=v(a.totalWidth,()=>{H(),H=void 0,i.value===!1&&e.showIfAbove===!0&&s.value===!1?y(!1):t()})}),Te(()=>{H!==void 0&&H(),b!==null&&(clearTimeout(b),b=null),i.value===!0&&ge(),a.instances[e.side]===B&&(a.instances[e.side]=void 0,Q("size",0),Q("offset",0),Q("space",!1))}),()=>{const t=[];s.value===!0&&(e.noSwipeOpen===!1&&t.push(ee(z("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ne.value)),t.push(Oe("div",{ref:"backdrop",class:fe.value,style:me.value,"aria-hidden":"true",onClick:I},void 0,"backdrop",e.noSwipeBackdrop!==!0&&i.value===!0,()=>Fe.value)));const o=x.value===!0&&T.mini!==void 0,h=[z("div",{...p,key:""+o,class:[je.value,p.class]},o===!0?T.mini():$e(T.default))];return e.elevated===!0&&i.value===!0&&h.push(z("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(Oe("aside",{ref:"content",class:ze.value,style:ne.value},h,"contentclose",e.noSwipeClose!==!0&&s.value===!0,()=>Re.value)),z("div",{class:"q-drawer-container"},t)}}});const Bt={class:"userInfo",style:{display:"flex","align-items":"center","justify-content":"center"}},Mt={style:{"padding-right":"0.5em","font-size":"0.8em"}},Lt={__name:"MainLayout",setup(e){const T=at(),g=gt(),p=q(!0),n=Ot(),d=()=>{T.push("/")},A=()=>{T.push("/rooms")},f=()=>{T.push("/companies")},S=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("credentials"),localStorage.removeItem("company"),T.push("/login")};return He(async()=>{n.getUser();const C=localStorage.getItem("theme");g.dark.set(C==="dark")}),(C,a)=>{const $=ot("router-view");return J(),X(bt,{view:"hHh lpR fFf"},{default:u(()=>[r(pt,null,{default:u(()=>[r(wt,{class:"flex-toolbar"},{default:u(()=>[r(lt,{flat:"",dense:"",icon:"menu",onClick:a[0]||(a[0]=b=>p.value=!p.value)}),r(kt,{class:"row",style:{"align-items":"center",padding:"0.3em","justify-content":"space-between"}},{default:u(()=>[a[5]||(a[5]=j("img",{src:"/nov_novelogo.png",style:{cursor:"pointer"}},null,-1)),j("div",Bt,[j("span",Mt,"Vitaj, "+Y(E(n).user),1),r(nt,{"text-color":"none",icon:"person"},{default:u(()=>[r(Z,{style:{"font-size":"1em","background-color":"dimgray"},anchor:"bottom left",self:"top middle"},{default:u(()=>[D(" Meno: "+Y(E(n).user)+" ",1),a[2]||(a[2]=j("br",null,null,-1)),D("E-mail: "+Y(E(n).email)+" ",1),a[3]||(a[3]=j("br",null,null,-1)),D("Opr\xE1vnenia: "+Y(E(n).role)+" ",1),a[4]||(a[4]=j("br",null,null,-1)),D("Firma: "+Y(E(n).userCompany),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),r(qt,{dark:"",modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=b=>p.value=b),width:50,breakpoint:500,side:"left"},{default:u(()=>[r(St,{class:"fit"},{default:u(()=>[r(xt,{class:"drawer-list"},{default:u(()=>[ee((J(),X(de,{onClick:d,clickable:""},{default:u(()=>[r(ce,{avatar:""},{default:u(()=>[r(re,{name:"event",class:"text-white"})]),_:1}),r(Z,{anchor:"center end",self:"center middle"},{default:u(()=>a[6]||(a[6]=[D(" Domov ")])),_:1})]),_:1})),[[ue]]),E(n).role==="admin"?ee((J(),X(de,{key:0,onClick:A,clickable:""},{default:u(()=>[r(ce,{avatar:""},{default:u(()=>[r(re,{name:"room",class:"text-white"})]),_:1}),r(Z,{anchor:"center end",self:"center middle"},{default:u(()=>a[7]||(a[7]=[D(" Miestnosti ")])),_:1})]),_:1})),[[ue]]):Pe("",!0),E(n).role==="admin"?ee((J(),X(de,{key:1,onClick:f,clickable:""},{default:u(()=>[r(ce,{avatar:""},{default:u(()=>[r(re,{name:"business",class:"text-white"})]),_:1}),r(Z,{anchor:"center end",self:"center middle"},{default:u(()=>a[8]||(a[8]=[D(" Firmy ")])),_:1})]),_:1})),[[ue]]):Pe("",!0),ee((J(),X(de,{onClick:S,clickable:""},{default:u(()=>[r(ce,{avatar:""},{default:u(()=>[r(re,{class:"logout",name:"logout"})]),_:1}),r(Z,{anchor:"center end",self:"center middle"},{default:u(()=>a[9]||(a[9]=[D(" Odhl\xE1si\u0165 sa ")])),_:1})]),_:1})),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),r(Tt,null,{default:u(()=>[r($)]),_:1})]),_:1})}}};var Rt=Pt(Lt,[["__scopeId","data-v-2566cf06"]]);export{Rt as default};
