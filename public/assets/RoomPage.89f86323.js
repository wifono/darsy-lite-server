import{C as b,Q as I,d as z,a as g,b as U,c as P}from"./ClosePopup.504e9305.js";import{o as C,E as f,av as y,I as p,f as e,H as i,K as t,Q as u,z as v,c as j,F as A,ax as B,G as N,L as E,M as x,J as Q,R as Z,aB as D,r as S,aE as h}from"./index.aa0ee168.js";import{Q as _,a as $,b as K}from"./QForm.518266e2.js";import{u as L,Q as M}from"./companyStore.d3c2a069.js";import{u as V}from"./roomStore.23bb9896.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as q,t as k}from"./use-prevent-scroll.e9912bc1.js";import{a as T,Q as G}from"./QScrollArea.7b890e0e.js";import"./axios.55a7e266.js";import"./use-dark.303ff613.js";import"./QScrollObserver.9ec31f42.js";import"./axios.0ed95acd.js";const H={class:"add-page add-event"},J={class:"row",style:{display:"flex",gap:"1em"}},O={__name:"AddRoomForm",setup(R){const l=V();return C(()=>{l.number="",l.name="",l.capacity=""}),(m,o)=>(f(),y("div",H,[p("section",null,[o[3]||(o[3]=p("h2",null,"Prida\u0165 miestnos\u0165",-1)),e($,{autofocus:"",onSubmit:t(l).createRoom},{default:i(()=>[e(_,{modelValue:t(l).number,"onUpdate:modelValue":o[0]||(o[0]=a=>t(l).number=a),color:"white","label-color":"white",outlined:"",dark:"",type:"number",label:m.$t("\u010C\xEDslo miestnosti"),"lazy-rules":"",rules:[a=>!!a||"Pole je povinn\xE9!"],"hide-bottom-space":""},null,8,["modelValue","label","rules"]),e(_,{select:"",color:"white","label-color":"white",outlined:"",dark:"",modelValue:t(l).name,"onUpdate:modelValue":o[1]||(o[1]=a=>t(l).name=a),type:"text",label:m.$t("N\xE1zov miestnosti"),"lazy-rules":"",rules:[a=>a&&a.length>0||"Zadajte n\xE1zov miestnosti"],"hide-bottom-space":""},null,8,["modelValue","label","rules"]),e(_,{modelValue:t(l).capacity,"onUpdate:modelValue":o[2]||(o[2]=a=>t(l).capacity=a),color:"white","label-color":"white",outlined:"",dark:"",type:"number",label:m.$t("Kapacita miestnosti"),"lazy-rules":"",rules:[a=>!!a||"Pole je povinn\xE9!"],"hide-bottom-space":""},null,8,["modelValue","label","rules"]),p("div",J,[e(u,{color:"positive",icon:"create",label:"Vytvori\u0165",type:"submit","text-color":"dark"}),v(e(u,{color:"negative",icon:"close",label:"Zru\u0161i\u0165"},null,512),[[b]])])]),_:1},8,["onSubmit"])])]))}};var W=w(O,[["__scopeId","data-v-5665440f"]]);const X={class:"add-page add-event"},Y={class:"row",style:{display:"flex",gap:"1em"}},ee={__name:"EditRoomForm",setup(R){const l=V();return(m,o)=>(f(),y("div",X,[p("section",null,[o[4]||(o[4]=p("h2",null,"Upravi\u0165 miestnos\u0165",-1)),e($,{autofocus:"",onSubmit:o[3]||(o[3]=a=>t(l).updateRoom(t(l).roomId))},{default:i(()=>[e(_,{modelValue:t(l).room.number,"onUpdate:modelValue":o[0]||(o[0]=a=>t(l).room.number=a),color:"white",dark:"","label-color":"white",outlined:"",type:"number",label:m.$t("\u010C\xEDslo miestnosti"),"lazy-rules":"",rules:[a=>!!a||"Pole je povinn\xE9!"],"hide-bottom-space":""},null,8,["modelValue","label","rules"]),e(_,{select:"",color:"white","label-color":"white",outlined:"",dark:"",modelValue:t(l).room.name,"onUpdate:modelValue":o[1]||(o[1]=a=>t(l).room.name=a),type:"text",label:m.$t("N\xE1zov miestnosti"),"lazy-rules":"",rules:[a=>a&&a.length>0||"Zadajte n\xE1zov miestnosti"],"hide-bottom-space":""},null,8,["modelValue","label","rules"]),e(_,{modelValue:t(l).room.capacity,"onUpdate:modelValue":o[2]||(o[2]=a=>t(l).room.capacity=a),color:"white","label-color":"white",outlined:"",dark:"",type:"number",label:m.$t("Kapacita miestnosti"),"lazy-rules":"",rules:[a=>!!a||"Pole je povinn\xE9!"],"hide-bottom-space":""},null,8,["modelValue","label","rules"]),p("div",Y,[e(u,{color:"positive",icon:"create","text-color":"dark",label:"Upravi\u0165",type:"submit"}),v(e(u,{color:"negative",icon:"close",label:"Zru\u0161i\u0165"},null,512),[[b]])])]),_:1})])]))}};var oe=w(ee,[["__scopeId","data-v-01275cfe"]]);const le={class:"add-page add-event"},te={class:"row",style:{display:"flex",gap:"1em"}},ae={__name:"ConfigRoomForm",setup(R){const l=V(),m=L();C(async()=>{await m.getCompanies()});const o=j(()=>{const c=l.roomId;if(!c)return[];const d=l.rooms.find(r=>r._id===c);return console.log("sadfsdaf",d),!d||!d.companies?[]:d.companies.map(r=>m.companies.find(n=>n._id===r)).filter(Boolean)}),a=async c=>{const d=l.roomId;!d||await l.removeRoomFromCompany(d,c)};return(c,d)=>(f(),y("div",le,[p("section",null,[d[1]||(d[1]=p("h2",null,"Priradenie firiem",-1)),e($,{autofocus:"",onSubmit:D(t(l).assignRoom,["prevent"])},{default:i(()=>[e(I,{modelValue:t(l).selectedCompany,"onUpdate:modelValue":d[0]||(d[0]=r=>t(l).selectedCompany=r),dark:"",multiple:"",options:t(m).companySelect,label:"Vyberte firmu",filled:""},null,8,["modelValue","options"]),e(T,{style:{width:"100%"}},{default:i(()=>[e(G,{style:{height:"200px"}},{default:i(()=>[(f(!0),y(A,null,B(o.value,r=>v((f(),N(q,{style:{width:"100%",display:"flex","flex-direction":"row","flex-wrap":"wrap"},key:r._id,class:"q-my-sm",clickable:""},{default:i(()=>[e(k,{avatar:""},{default:i(()=>[e(E,{color:"primary","text-color":"white"},{default:i(()=>[x(Q(r.name[0]),1)]),_:2},1024)]),_:2},1024),e(k,null,{default:i(()=>[e(z,null,{default:i(()=>[x(Q(r.name),1)]),_:2},1024)]),_:2},1024),e(k,{side:""},{default:i(()=>[e(u,{flat:"",dense:"",icon:"delete",color:"negative",onClick:n=>a(r._id)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)),[[Z]])),128))]),_:1})]),_:1}),p("div",te,[e(u,{color:"positive",icon:"create",label:"Ulo\u017Ei\u0165","text-color":"dark",type:"submit"}),v(e(u,{color:"negative",icon:"close",label:"Zru\u0161i\u0165"},null,512),[[b]])])]),_:1},8,["onSubmit"])])]))}};var ne=w(ae,[["__scopeId","data-v-93749b54"]]);const re={class:"reservation-page"},ie={style:{"margin-top":"0.7em"}},se={style:{width:"5em"}},me={__name:"RoomPage",setup(R){const l=S(!1),m=S(null),o=V(),a=r=>{o.roomId=r,o.configRoomForm=!0},c=r=>{m.value=r,l.value=!0},d=[{name:"number",required:!0,label:"\u010C\xEDslo miestnosti",align:"left",field:r=>r.number,format:r=>`${r}`,sortable:!0},{name:"name",align:"left",label:"N\xE1zov miestnostni",field:"name",sortable:!0},{name:"capacity",align:"left",label:"Kapacita",field:"capacity",sortable:!0},{name:"actions",label:"Akcie",align:"center",field:"actions"}];return C(async()=>{h.show(),await o.getRooms(),h.hide()}),(r,n)=>(f(),y("div",re,[e(g,{modelValue:t(o).addRoomForm,"onUpdate:modelValue":n[0]||(n[0]=s=>t(o).addRoomForm=s)},{default:i(()=>[e(W)]),_:1},8,["modelValue"]),e(g,{modelValue:t(o).editRoomForm,"onUpdate:modelValue":n[1]||(n[1]=s=>t(o).editRoomForm=s)},{default:i(()=>[e(oe)]),_:1},8,["modelValue"]),e(g,{modelValue:t(o).configRoomForm,"onUpdate:modelValue":n[2]||(n[2]=s=>t(o).configRoomForm=s)},{default:i(()=>[e(ne)]),_:1},8,["modelValue"]),e(g,{modelValue:l.value,"onUpdate:modelValue":n[4]||(n[4]=s=>l.value=s)},{default:i(()=>[e(K,{dark:"",style:{width:"20em","box-shadow":"none"}},{default:i(()=>[e(U,{style:{"text-align":"center","padding-top":"2em"}},{default:i(()=>n[7]||(n[7]=[x(" Naozaj si prajete vymaza\u0165 miestnos\u0165? ")])),_:1}),e(P,{align:"center"},{default:i(()=>[v(e(u,{flat:"",label:"Vymaza\u0165",onClick:n[3]||(n[3]=s=>t(o).deleteRoom(m.value)),color:"negative"},null,512),[[b]]),v(e(u,{flat:"",label:"Zru\u0161i\u0165",color:"primary"},null,512),[[b]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n[8]||(n[8]=p("header",null,[p("div",{style:{display:"flex","align-items":"center","justify-content":"flex-end",flex:"1",gap:"1em"},class:"right-side"})],-1)),p("section",ie,[e(u,{color:"positive",icon:"add","text-color":"dark",label:"Prida\u0165 miestnos\u0165",style:{height:"1em","margin-left":"0.2em"},onClick:n[5]||(n[5]=s=>t(o).addRoomForm=!0)}),e(M,{style:{"margin-top":"1em","box-shadow":"none"},rows:t(o).rooms,columns:d,dark:"","row-key":"name",selection:"multiple",selected:t(o).selectedRooms,"onUpdate:selected":n[6]||(n[6]=s=>t(o).selectedRooms=s)},{"body-cell-actions":i(s=>[p("td",se,[e(u,{color:"primary",icon:"edit",style:{"margin-right":"0.5em"},onClick:F=>t(o).getRoom(s.row._id)},null,8,["onClick"]),e(u,{color:"orange",icon:"settings",style:{"margin-right":"0.5em"},onClick:F=>a(s.row._id)},null,8,["onClick"]),e(u,{color:"negative",icon:"delete",onClick:F=>c(s.row._id)},null,8,["onClick"])])]),_:1},8,["rows","selected"])])]))}};var Re=w(me,[["__scopeId","data-v-23346a5f"]]);export{Re as default};
