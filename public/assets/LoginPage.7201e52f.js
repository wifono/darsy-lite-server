import{b as m,a as u,Q as r}from"./QForm.518266e2.js";import{C as p,r as n,E as y,av as f,f as a,H as i,I as g,Q as v,aq as _}from"./index.aa0ee168.js";import{a as b}from"./axios.0ed95acd.js";import"./use-dark.303ff613.js";const h={class:"login-page",style:{display:"flex","align-items":"center","justify-content":"center"}},k={class:"buttons"},I={__name:"LoginPage",setup(w){const d=p(),s=n(null),l=n(null),c=async()=>{try{const e=await b.post("/authentication",{email:s.value,password:l.value,strategy:"local"});e.status===201&&(localStorage.setItem("credentials",JSON.stringify(e.data)),localStorage.setItem("accessToken",e.data.accessToken),d.push("/"))}catch(e){console.error(e),_.create({message:"Prihl\xE1senie ne\xFAspe\u0161n\xE9, "+e,color:"negative",position:"top"})}};return(e,t)=>(y(),f("div",h,[a(m,{class:"my-card",style:{"box-shadow":"0 0 0.5em 0 black","margin-top":"10%"},dark:""},{default:i(()=>[a(u,{style:{padding:"2em !important",display:"flex"},onSubmit:c,class:"q-gutter-md"},{default:i(()=>[a(r,{style:{width:"25em"},modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=o=>s.value=o),type:"text",label:"E-maill",dark:""},null,8,["modelValue"]),a(r,{style:{width:"25em"},modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value=o),type:"password",label:"Heslo",dark:""},null,8,["modelValue"]),g("div",k,[a(v,{label:"Prihl\xE1si\u0165 sa",type:"submit",color:"primary"})])]),_:1})]),_:1})]))}};export{I as default};
