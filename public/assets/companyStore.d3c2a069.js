import{k as D,h as n,u as ve,P as Ct,N as xe,g as j,c as s,l as qt,r as N,w as M,aJ as He,o as Ue,am as _t,a8 as kt,m as Ke,q as Pt,a1 as Ae,Y as Te,aG as Ze,aH as We,v as Me,aS as K,a2 as xt,ad as Le,aT as Pe,aU as Ne,aV as Tt,y as Ge,aW as $t,a4 as G,Q as ce,ap as Bt,aq as T}from"./index.aa0ee168.js";import{u as X,a as Y}from"./use-dark.303ff613.js";import{a as Rt}from"./QScrollArea.7b890e0e.js";import{u as Ft,e as Vt,f as Je,Q as zt}from"./ClosePopup.504e9305.js";import{f as Et,j as Ot}from"./QForm.518266e2.js";import{api as z}from"./axios.55a7e266.js";var It=D({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:t}){const u=j(),{proxy:{$q:r}}=u,m=i=>{t("click",i)};return()=>{if(e.props===void 0)return n("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:m},ve(l.default));let i,d;const v=u.vnode.key;if(v){if(i=e.props.colsMap[v],i===void 0)return}else i=e.props.col;if(i.sortable===!0){const o=i.align==="right"?"unshift":"push";d=Ct(l.default,[]),d[o](n(xe,{class:i.__iconClass,name:r.iconSet.table.arrowUp}))}else d=ve(l.default);const g={class:i.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:i.headerStyle,onClick:o=>{i.sortable===!0&&e.props.sort(i),m(o)}};return n("th",g,d)}}});const At={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},_e={xs:2,sm:4,md:8,lg:16,xl:24};var Mt=D({name:"QSeparator",props:{...X,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const l=j(),t=Y(e,l.proxy.$q),u=s(()=>e.vertical===!0?"vertical":"horizontal"),r=s(()=>` q-separator--${u.value}`),m=s(()=>e.inset!==!1?`${r.value}-${At[e.inset]}`:""),i=s(()=>`q-separator${r.value}${m.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(t.value===!0?" q-separator--dark":"")),d=s(()=>{const v={};if(e.size!==void 0&&(v[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const g=e.spaced===!0?`${_e.md}px`:e.spaced in _e?`${_e[e.spaced]}px`:e.spaced,o=e.vertical===!0?["Left","Right"]:["Top","Bottom"];v[`margin${o[0]}`]=v[`margin${o[1]}`]=g}return v});return()=>n("hr",{class:i.value,style:d.value,"aria-orientation":u.value})}});const Lt=["horizontal","vertical","cell","none"];var Nt=D({name:"QMarkupTable",props:{...X,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Lt.includes(e)}},setup(e,{slots:l}){const t=j(),u=Y(e,t.proxy.$q),r=s(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(u.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>n("div",{class:r.value},[n("table",{class:"q-table"},ve(l.default))])}});function Xe(e,l){return n("div",e,[n("table",{class:"q-table"},l)])}const Dt={list:Rt,table:Nt},jt=["list","table","__qtable"];var Qt=D({name:"QVirtualScroll",props:{...Ft,type:{type:String,default:"list",validator:e=>jt.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:qt},setup(e,{slots:l,attrs:t}){let u;const r=N(null),m=s(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:i,localResetVirtualScroll:d,padVirtualScroll:v,onVirtualScrollEvt:g}=Vt({virtualScrollLength:m,getVirtualScrollTarget:w,getVirtualScrollEl:q}),o=s(()=>{if(m.value===0)return[];const R=(V,P)=>({index:i.value.from+P,item:V});return e.itemsFn===void 0?e.items.slice(i.value.from,i.value.to).map(R):e.itemsFn(i.value.from,i.value.to-i.value.from).map(R)}),b=s(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),C=s(()=>e.scrollTarget!==void 0?{}:{tabindex:0});M(m,()=>{d()}),M(()=>e.scrollTarget,()=>{h(),p()});function q(){return r.value.$el||r.value}function w(){return u}function p(){u=Pt(q(),e.scrollTarget),u.addEventListener("scroll",g,Ae.passive)}function h(){u!==void 0&&(u.removeEventListener("scroll",g,Ae.passive),u=void 0)}function B(){let R=v(e.type==="list"?"div":"tbody",o.value.map(l.default));return l.before!==void 0&&(R=l.before().concat(R)),Te(l.after,R)}return He(()=>{d()}),Ue(()=>{p()}),_t(()=>{p()}),kt(()=>{h()}),Ke(()=>{h()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Xe({ref:r,class:"q-table__middle "+b.value},B()):n(Dt[e.type],{...t,ref:r,class:[t.class,b.value],...C.value},B)}}});const Ht={xs:2,sm:4,md:6,lg:10,xl:14};function De(e,l,t){return{transform:l===!0?`translateX(${t.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var Ut=D({name:"QLinearProgress",props:{...X,...Ze,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:t}=j(),u=Y(e,t.$q),r=We(e,Ht),m=s(()=>e.indeterminate===!0||e.query===!0),i=s(()=>e.reverse!==e.query),d=s(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),v=s(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),g=s(()=>De(e.buffer!==void 0?e.buffer:1,i.value,t.$q)),o=s(()=>`with${e.instantFeedback===!0?"out":""}-transition`),b=s(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${o.value} q-linear-progress__track--${u.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),C=s(()=>De(m.value===!0?1:e.value,i.value,t.$q)),q=s(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${o.value} q-linear-progress__model--${m.value===!0?"in":""}determinate`),w=s(()=>({width:`${e.value*100}%`})),p=s(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${o.value}`);return()=>{const h=[n("div",{class:b.value,style:g.value}),n("div",{class:q.value,style:C.value})];return e.stripe===!0&&m.value===!1&&h.push(n("div",{class:p.value,style:w.value})),n("div",{class:v.value,style:d.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Te(l.default,h))}}});function Kt(e,l){const t=N(null),u=s(()=>e.disable===!0?null:n("span",{ref:t,class:"no-outline",tabindex:-1}));function r(m){const i=l.value;m!==void 0&&m.type.indexOf("key")===0?i!==null&&document.activeElement!==i&&i.contains(document.activeElement)===!0&&i.focus():t.value!==null&&(m===void 0||i!==null&&i.contains(m.target)===!0)&&t.value.focus()}return{refocusTargetEl:u,refocusTarget:r}}var Zt={xs:30,sm:35,md:40,lg:50,xl:60};const Wt={...X,...Ze,...Et,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Gt=["update:modelValue"];function Jt(e,l){const{props:t,slots:u,emit:r,proxy:m}=j(),{$q:i}=m,d=Y(t,i),v=N(null),{refocusTargetEl:g,refocusTarget:o}=Kt(t,v),b=We(t,Zt),C=s(()=>t.val!==void 0&&Array.isArray(t.modelValue)),q=s(()=>{const _=K(t.val);return C.value===!0?t.modelValue.findIndex(O=>K(O)===_):-1}),w=s(()=>C.value===!0?q.value!==-1:K(t.modelValue)===K(t.trueValue)),p=s(()=>C.value===!0?q.value===-1:K(t.modelValue)===K(t.falseValue)),h=s(()=>w.value===!1&&p.value===!1),B=s(()=>t.disable===!0?-1:t.tabindex||0),R=s(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(t.disable===!0?" disabled":"")+(d.value===!0?` q-${e}--dark`:"")+(t.dense===!0?` q-${e}--dense`:"")+(t.leftLabel===!0?" reverse":"")),V=s(()=>{const _=w.value===!0?"truthy":p.value===!0?"falsy":"indet",O=t.color!==void 0&&(t.keepColor===!0||(e==="toggle"?w.value===!0:p.value!==!0))?` text-${t.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${_}${O}`}),P=s(()=>{const _={type:"checkbox"};return t.name!==void 0&&Object.assign(_,{".checked":w.value,"^checked":w.value===!0?"checked":void 0,name:t.name,value:C.value===!0?t.val:t.trueValue}),_}),$=Ot(P),Q=s(()=>{const _={tabindex:B.value,role:e==="toggle"?"switch":"checkbox","aria-label":t.label,"aria-checked":h.value===!0?"mixed":w.value===!0?"true":"false"};return t.disable===!0&&(_["aria-disabled"]="true"),_});function Z(_){_!==void 0&&(Me(_),o(_)),t.disable!==!0&&r("update:modelValue",W(),_)}function W(){if(C.value===!0){if(w.value===!0){const _=t.modelValue.slice();return _.splice(q.value,1),_}return t.modelValue.concat([t.val])}if(w.value===!0){if(t.toggleOrder!=="ft"||t.toggleIndeterminate===!1)return t.falseValue}else if(p.value===!0){if(t.toggleOrder==="ft"||t.toggleIndeterminate===!1)return t.trueValue}else return t.toggleOrder!=="ft"?t.trueValue:t.falseValue;return t.indeterminateValue}function ee(_){(_.keyCode===13||_.keyCode===32)&&Me(_)}function E(_){(_.keyCode===13||_.keyCode===32)&&Z(_)}const L=l(w,h);return Object.assign(m,{toggle:Z}),()=>{const _=L();t.disable!==!0&&$(_,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const O=[n("div",{class:V.value,style:b.value,"aria-hidden":"true"},_)];g.value!==null&&O.push(g.value);const te=t.label!==void 0?Te(u.default,[t.label]):ve(u.default);return te!==void 0&&O.push(n("div",{class:`q-${e}__label q-anchor--skip`},te)),n("div",{ref:v,class:R.value,...Q.value,onClick:Z,onKeydown:ee,onKeyup:E},O)}}const Xt=()=>n("div",{key:"svg",class:"q-checkbox__bg absolute"},[n("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[n("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),n("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var ke=D({name:"QCheckbox",props:Wt,emits:Gt,setup(e){const l=Xt();function t(u,r){const m=s(()=>(u.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>m.value!==null?[n("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[n(xe,{class:"q-checkbox__icon",name:m.value})])]:[l]}return Jt("checkbox",t)}});let J=0;const Yt={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ea=["update:fullscreen","fullscreen"];function ta(){const e=j(),{props:l,emit:t,proxy:u}=e;let r,m,i;const d=N(!1);xt(e)===!0&&M(()=>u.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&o()}),M(()=>l.fullscreen,b=>{d.value!==b&&v()}),M(d,b=>{t("update:fullscreen",b),t("fullscreen",b)});function v(){d.value===!0?o():g()}function g(){d.value!==!0&&(d.value=!0,i=u.$el.parentNode,i.replaceChild(m,u.$el),document.body.appendChild(u.$el),J++,J===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:o},Le.add(r))}function o(){d.value===!0&&(r!==void 0&&(Le.remove(r),r=void 0),i.replaceChild(u.$el,m),d.value=!1,J=Math.max(0,J-1),J===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),u.$el.scrollIntoView!==void 0&&setTimeout(()=>{u.$el.scrollIntoView()})))}return He(()=>{m=document.createElement("span")}),Ue(()=>{l.fullscreen===!0&&g()}),Ke(o),Object.assign(u,{toggleFullscreen:v,setFullscreen:g,exitFullscreen:o}),{inFullscreen:d,toggleFullscreen:v}}function aa(e,l){return new Date(e)-new Date(l)}const la={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function oa(e,l,t,u){const r=s(()=>{const{sortBy:d}=l.value;return d&&t.value.find(v=>v.name===d)||null}),m=s(()=>e.sortMethod!==void 0?e.sortMethod:(d,v,g)=>{const o=t.value.find(q=>q.name===v);if(o===void 0||o.field===void 0)return d;const b=g===!0?-1:1,C=typeof o.field=="function"?q=>o.field(q):q=>q[o.field];return d.sort((q,w)=>{let p=C(q),h=C(w);return o.rawSort!==void 0?o.rawSort(p,h,q,w)*b:p==null?-1*b:h==null?1*b:o.sort!==void 0?o.sort(p,h,q,w)*b:Pe(p)===!0&&Pe(h)===!0?(p-h)*b:Ne(p)===!0&&Ne(h)===!0?aa(p,h)*b:typeof p=="boolean"&&typeof h=="boolean"?(p-h)*b:([p,h]=[p,h].map(B=>(B+"").toLocaleString().toLowerCase()),p<h?-1*b:p===h?0:b)})});function i(d){let v=e.columnSortOrder;if(Tt(d)===!0)d.sortOrder&&(v=d.sortOrder),d=d.name;else{const b=t.value.find(C=>C.name===d);b!==void 0&&b.sortOrder&&(v=b.sortOrder)}let{sortBy:g,descending:o}=l.value;g!==d?(g=d,o=v==="da"):e.binaryStateSort===!0?o=!o:o===!0?v==="ad"?g=null:o=!1:v==="ad"?o=!0:g=null,u({sortBy:g,descending:o,page:1})}return{columnToSort:r,computedSortMethod:m,sort:i}}const na={filter:[String,Object],filterMethod:Function};function ra(e,l){const t=s(()=>e.filterMethod!==void 0?e.filterMethod:(u,r,m,i)=>{const d=r?r.toLowerCase():"";return u.filter(v=>m.some(g=>{const o=i(g,v)+"";return(o==="undefined"||o==="null"?"":o.toLowerCase()).indexOf(d)!==-1}))});return M(()=>e.filter,()=>{Ge(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:t}}function sa(e,l){for(const t in l)if(l[t]!==e[t])return!1;return!0}function je(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const ia={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ua(e,l){const{props:t,emit:u}=e,r=N(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:t.rowsPerPageOptions.length!==0?t.rowsPerPageOptions[0]:5},t.pagination)),m=s(()=>{const o=t["onUpdate:pagination"]!==void 0?{...r.value,...t.pagination}:r.value;return je(o)}),i=s(()=>m.value.rowsNumber!==void 0);function d(o){v({pagination:o,filter:t.filter})}function v(o={}){Ge(()=>{u("request",{pagination:o.pagination||m.value,filter:o.filter||t.filter,getCellValue:l})})}function g(o,b){const C=je({...m.value,...o});if(sa(m.value,C)===!0){i.value===!0&&b===!0&&d(C);return}if(i.value===!0){d(C);return}t.pagination!==void 0&&t["onUpdate:pagination"]!==void 0?u("update:pagination",C):r.value=C}return{innerPagination:r,computedPagination:m,isServerSide:i,requestServerInteraction:v,setPagination:g}}function ca(e,l,t,u,r,m){const{props:i,emit:d,proxy:{$q:v}}=e,g=s(()=>u.value===!0?t.value.rowsNumber||0:m.value),o=s(()=>{const{page:P,rowsPerPage:$}=t.value;return(P-1)*$}),b=s(()=>{const{page:P,rowsPerPage:$}=t.value;return P*$}),C=s(()=>t.value.page===1),q=s(()=>t.value.rowsPerPage===0?1:Math.max(1,Math.ceil(g.value/t.value.rowsPerPage))),w=s(()=>b.value===0?!0:t.value.page>=q.value),p=s(()=>(i.rowsPerPageOptions.includes(l.value.rowsPerPage)?i.rowsPerPageOptions:[l.value.rowsPerPage].concat(i.rowsPerPageOptions)).map($=>({label:$===0?v.lang.table.allRows:""+$,value:$})));M(q,(P,$)=>{if(P===$)return;const Q=t.value.page;P&&!Q?r({page:1}):P<Q&&r({page:P})});function h(){r({page:1})}function B(){const{page:P}=t.value;P>1&&r({page:P-1})}function R(){const{page:P,rowsPerPage:$}=t.value;b.value>0&&P*$<g.value&&r({page:P+1})}function V(){r({page:q.value})}return i["onUpdate:pagination"]!==void 0&&d("update:pagination",{...t.value}),{firstRowIndex:o,lastRowIndex:b,isFirstPage:C,isLastPage:w,pagesNumber:q,computedRowsPerPageOptions:p,computedRowsNumber:g,firstPage:h,prevPage:B,nextPage:R,lastPage:V}}const da={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},va=["update:selected","selection"];function ma(e,l,t,u){const r=s(()=>{const w={};return e.selected.map(u.value).forEach(p=>{w[p]=!0}),w}),m=s(()=>e.selection!=="none"),i=s(()=>e.selection==="single"),d=s(()=>e.selection==="multiple"),v=s(()=>t.value.length!==0&&t.value.every(w=>r.value[u.value(w)]===!0)),g=s(()=>v.value!==!0&&t.value.some(w=>r.value[u.value(w)]===!0)),o=s(()=>e.selected.length);function b(w){return r.value[w]===!0}function C(){l("update:selected",[])}function q(w,p,h,B){l("selection",{rows:p,added:h,keys:w,evt:B});const R=i.value===!0?h===!0?p:[]:h===!0?e.selected.concat(p):e.selected.filter(V=>w.includes(u.value(V))===!1);l("update:selected",R)}return{hasSelectionMode:m,singleSelection:i,multipleSelection:d,allRowsSelected:v,someRowsSelected:g,rowsSelectedNumber:o,isRowSelected:b,clearSelection:C,updateSelection:q}}function Qe(e){return Array.isArray(e)?e.slice():[]}const fa={expanded:Array},ga=["update:expanded"];function ba(e,l){const t=N(Qe(e.expanded));M(()=>e.expanded,i=>{t.value=Qe(i)});function u(i){return t.value.includes(i)}function r(i){e.expanded!==void 0?l("update:expanded",i):t.value=i}function m(i,d){const v=t.value.slice(),g=v.indexOf(i);d===!0?g===-1&&(v.push(i),r(v)):g!==-1&&(v.splice(g,1),r(v))}return{isRowExpanded:u,setExpanded:r,updateExpanded:m}}const ya={visibleColumns:Array};function ha(e,l,t){const u=s(()=>{if(e.columns!==void 0)return e.columns;const d=e.rows[0];return d!==void 0?Object.keys(d).map(v=>({name:v,label:v.toUpperCase(),field:v,align:Pe(d[v])?"right":"left",sortable:!0})):[]}),r=s(()=>{const{sortBy:d,descending:v}=l.value;return(e.visibleColumns!==void 0?u.value.filter(o=>o.required===!0||e.visibleColumns.includes(o.name)===!0):u.value).map(o=>{const b=o.align||"right",C=`text-${b}`;return{...o,align:b,__iconClass:`q-table__sort-icon q-table__sort-icon--${b}`,__thClass:C+(o.headerClasses!==void 0?" "+o.headerClasses:"")+(o.sortable===!0?" sortable":"")+(o.name===d?` sorted ${v===!0?"sort-desc":""}`:""),__tdStyle:o.style!==void 0?typeof o.style!="function"?()=>o.style:o.style:()=>null,__tdClass:o.classes!==void 0?typeof o.classes!="function"?()=>C+" "+o.classes:q=>C+" "+o.classes(q):()=>C}})}),m=s(()=>{const d={};return r.value.forEach(v=>{d[v.name]=v}),d}),i=s(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(t.value===!0?1:0));return{colList:u,computedCols:r,computedColsMap:m,computedColspan:i}}const de="q-table__bottom row items-center",Ye={};Je.forEach(e=>{Ye[e]={}});var ka=D({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...Ye,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...X,...Yt,...ya,...na,...ia,...fa,...da,...la},emits:["request","virtualScroll",...ea,...ga,...va],setup(e,{slots:l,emit:t}){const u=j(),{proxy:{$q:r}}=u,m=Y(e,r),{inFullscreen:i,toggleFullscreen:d}=ta(),v=s(()=>typeof e.rowKey=="function"?e.rowKey:a=>a[e.rowKey]),g=N(null),o=N(null),b=s(()=>e.grid!==!0&&e.virtualScroll===!0),C=s(()=>" q-table__card"+(m.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),q=s(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":C.value)+(m.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(i.value===!0?" fullscreen scroll":"")),w=s(()=>q.value+(e.loading===!0?" q-table--loading":""));M(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+q.value,()=>{b.value===!0&&o.value!==null&&o.value.reset()});const{innerPagination:p,computedPagination:h,isServerSide:B,requestServerInteraction:R,setPagination:V}=ua(u,H),{computedFilterMethod:P}=ra(e,V),{isRowExpanded:$,setExpanded:Q,updateExpanded:Z}=ba(e,t),W=s(()=>{let a=e.rows;if(B.value===!0||a.length===0)return a;const{sortBy:c,descending:f}=h.value;return e.filter&&(a=P.value(a,e.filter,I.value,H)),at.value!==null&&(a=lt.value(e.rows===a?a.slice():a,c,f)),a}),ee=s(()=>W.value.length),E=s(()=>{let a=W.value;if(B.value===!0)return a;const{rowsPerPage:c}=h.value;return c!==0&&(le.value===0&&e.rows!==a?a.length>oe.value&&(a=a.slice(0,oe.value)):a=a.slice(le.value,oe.value)),a}),{hasSelectionMode:L,singleSelection:_,multipleSelection:O,allRowsSelected:te,someRowsSelected:$e,rowsSelectedNumber:me,isRowSelected:fe,clearSelection:et,updateSelection:ae}=ma(e,t,E,v),{colList:tt,computedCols:I,computedColsMap:Be,computedColspan:Re}=ha(e,h,L),{columnToSort:at,computedSortMethod:lt,sort:ge}=oa(e,h,tt,V),{firstRowIndex:le,lastRowIndex:oe,isFirstPage:be,isLastPage:ye,pagesNumber:ne,computedRowsPerPageOptions:ot,computedRowsNumber:re,firstPage:he,prevPage:pe,nextPage:Se,lastPage:we}=ca(u,p,h,B,V,ee),nt=s(()=>E.value.length===0),rt=s(()=>{const a={};return Je.forEach(c=>{a[c]=e[c]}),a.virtualScrollItemSize===void 0&&(a.virtualScrollItemSize=e.dense===!0?28:48),a});function st(){b.value===!0&&o.value.reset()}function it(){if(e.grid===!0)return St();const a=e.hideHeader!==!0?Oe:null;if(b.value===!0){const f=l["top-row"],y=l["bottom-row"],S={default:x=>Ve(x.item,l.body,x.index)};if(f!==void 0){const x=n("tbody",f({cols:I.value}));S.before=a===null?()=>x:()=>[a()].concat(x)}else a!==null&&(S.before=a);return y!==void 0&&(S.after=()=>n("tbody",y({cols:I.value}))),n(Qt,{ref:o,class:e.tableClass,style:e.tableStyle,...rt.value,scrollTarget:e.virtualScrollTarget,items:E.value,type:"__qtable",tableColspan:Re.value,onVirtualScroll:ct},S)}const c=[dt()];return a!==null&&c.unshift(a()),Xe({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},c)}function ut(a,c){if(o.value!==null){o.value.scrollTo(a,c);return}a=parseInt(a,10);const f=g.value.querySelector(`tbody tr:nth-of-type(${a+1})`);if(f!==null){const y=g.value.querySelector(".q-table__middle.scroll"),S=f.offsetTop-e.virtualScrollStickySizeStart,x=S<y.scrollTop?"decrease":"increase";y.scrollTop=S,t("virtualScroll",{index:a,from:0,to:p.value.rowsPerPage-1,direction:x})}}function ct(a){t("virtualScroll",a)}function Fe(){return[n(Ut,{class:"q-table__linear-progress",color:e.color,dark:m.value,indeterminate:!0,trackColor:"transparent"})]}function Ve(a,c,f){const y=v.value(a),S=fe(y);if(c!==void 0)return c(ze({key:y,row:a,pageIndex:f,__trClass:S?"selected":""}));const x=l["body-cell"],k=I.value.map(F=>{const ie=l[`body-cell-${F.name}`],ue=ie!==void 0?ie:x;return ue!==void 0?ue(vt({key:y,row:a,pageIndex:f,col:F})):n("td",{class:F.__tdClass(a),style:F.__tdStyle(a)},H(F,a))});if(L.value===!0){const F=l["body-selection"],ie=F!==void 0?F(mt({key:y,row:a,pageIndex:f})):[n(ke,{modelValue:S,color:e.color,dark:m.value,dense:e.dense,"onUpdate:modelValue":(ue,wt)=>{ae([y],[a],ue,wt)}})];k.unshift(n("td",{class:"q-table--col-auto-width"},ie))}const A={key:y,class:{selected:S}};return e.onRowClick!==void 0&&(A.class["cursor-pointer"]=!0,A.onClick=F=>{t("rowClick",F,a,f)}),e.onRowDblclick!==void 0&&(A.class["cursor-pointer"]=!0,A.onDblclick=F=>{t("rowDblclick",F,a,f)}),e.onRowContextmenu!==void 0&&(A.class["cursor-pointer"]=!0,A.onContextmenu=F=>{t("rowContextmenu",F,a,f)}),n("tr",A,k)}function dt(){const a=l.body,c=l["top-row"],f=l["bottom-row"];let y=E.value.map((S,x)=>Ve(S,a,x));return c!==void 0&&(y=c({cols:I.value}).concat(y)),f!==void 0&&(y=y.concat(f({cols:I.value}))),n("tbody",y)}function ze(a){return Ce(a),a.cols=a.cols.map(c=>G({...c},"value",()=>H(c,a.row))),a}function vt(a){return Ce(a),G(a,"value",()=>H(a.col,a.row)),a}function mt(a){return Ce(a),a}function Ce(a){Object.assign(a,{cols:I.value,colsMap:Be.value,sort:ge,rowIndex:le.value+a.pageIndex,color:e.color,dark:m.value,dense:e.dense}),L.value===!0&&G(a,"selected",()=>fe(a.key),(c,f)=>{ae([a.key],[a.row],c,f)}),G(a,"expand",()=>$(a.key),c=>{Z(a.key,c)})}function H(a,c){const f=typeof a.field=="function"?a.field(c):c[a.field];return a.format!==void 0?a.format(f,c):f}const U=s(()=>({pagination:h.value,pagesNumber:ne.value,isFirstPage:be.value,isLastPage:ye.value,firstPage:he,prevPage:pe,nextPage:Se,lastPage:we,inFullscreen:i.value,toggleFullscreen:d}));function ft(){const a=l.top,c=l["top-left"],f=l["top-right"],y=l["top-selection"],S=L.value===!0&&y!==void 0&&me.value>0,x="q-table__top relative-position row items-center";if(a!==void 0)return n("div",{class:x},[a(U.value)]);let k;if(S===!0?k=y(U.value).slice():(k=[],c!==void 0?k.push(n("div",{class:"q-table__control"},[c(U.value)])):e.title&&k.push(n("div",{class:"q-table__control"},[n("div",{class:["q-table__title",e.titleClass]},e.title)]))),f!==void 0&&(k.push(n("div",{class:"q-table__separator col"})),k.push(n("div",{class:"q-table__control"},[f(U.value)]))),k.length!==0)return n("div",{class:x},k)}const Ee=s(()=>$e.value===!0?null:te.value);function Oe(){const a=gt();return e.loading===!0&&l.loading===void 0&&a.push(n("tr",{class:"q-table__progress"},[n("th",{class:"relative-position",colspan:Re.value},Fe())])),n("thead",a)}function gt(){const a=l.header,c=l["header-cell"];if(a!==void 0)return a(qe({header:!0})).slice();const f=I.value.map(y=>{const S=l[`header-cell-${y.name}`],x=S!==void 0?S:c,k=qe({col:y});return x!==void 0?x(k):n(It,{key:y.name,props:k},()=>y.label)});if(_.value===!0&&e.grid!==!0)f.unshift(n("th",{class:"q-table--col-auto-width"}," "));else if(O.value===!0){const y=l["header-selection"],S=y!==void 0?y(qe({})):[n(ke,{color:e.color,modelValue:Ee.value,dark:m.value,dense:e.dense,"onUpdate:modelValue":Ie})];f.unshift(n("th",{class:"q-table--col-auto-width"},S))}return[n("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},f)]}function qe(a){return Object.assign(a,{cols:I.value,sort:ge,colsMap:Be.value,color:e.color,dark:m.value,dense:e.dense}),O.value===!0&&G(a,"selected",()=>Ee.value,Ie),a}function Ie(a){$e.value===!0&&(a=!1),ae(E.value.map(v.value),E.value,a)}const se=s(()=>{const a=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?a.reverse():a});function bt(){if(e.hideBottom===!0)return;if(nt.value===!0){if(e.hideNoData===!0)return;const f=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,y=l["no-data"],S=y!==void 0?[y({message:f,icon:r.iconSet.table.warning,filter:e.filter})]:[n(xe,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),f];return n("div",{class:de+" q-table__bottom--nodata"},S)}const a=l.bottom;if(a!==void 0)return n("div",{class:de},[a(U.value)]);const c=e.hideSelectedBanner!==!0&&L.value===!0&&me.value>0?[n("div",{class:"q-table__control"},[n("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(me.value)])])]:[];if(e.hidePagination!==!0)return n("div",{class:de+" justify-end"},ht(c));if(c.length!==0)return n("div",{class:de},c)}function yt(a){V({page:1,rowsPerPage:a.value})}function ht(a){let c;const{rowsPerPage:f}=h.value,y=e.paginationLabel||r.lang.table.pagination,S=l.pagination,x=e.rowsPerPageOptions.length>1;if(a.push(n("div",{class:"q-table__separator col"})),x===!0&&a.push(n("div",{class:"q-table__control"},[n("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),n(zt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:f,options:ot.value,displayValue:f===0?r.lang.table.allRows:f,dark:m.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":yt})])),S!==void 0)c=S(U.value);else if(c=[n("span",f!==0?{class:"q-table__bottom-item"}:{},[f?y(le.value+1,Math.min(oe.value,re.value),re.value):y(1,ee.value,re.value)])],f!==0&&ne.value>1){const k={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(k.size="sm"),ne.value>2&&c.push(n(ce,{key:"pgFirst",...k,icon:se.value[0],disable:be.value,onClick:he})),c.push(n(ce,{key:"pgPrev",...k,icon:se.value[1],disable:be.value,onClick:pe}),n(ce,{key:"pgNext",...k,icon:se.value[2],disable:ye.value,onClick:Se})),ne.value>2&&c.push(n(ce,{key:"pgLast",...k,icon:se.value[3],disable:ye.value,onClick:we}))}return a.push(n("div",{class:"q-table__control"},c)),a}function pt(){const a=e.gridHeader===!0?[n("table",{class:"q-table"},[Oe()])]:e.loading===!0&&l.loading===void 0?Fe():void 0;return n("div",{class:"q-table__middle"},a)}function St(){const a=l.item!==void 0?l.item:c=>{const f=c.cols.map(S=>n("div",{class:"q-table__grid-item-row"},[n("div",{class:"q-table__grid-item-title"},[S.label]),n("div",{class:"q-table__grid-item-value"},[S.value])]));if(L.value===!0){const S=l["body-selection"],x=S!==void 0?S(c):[n(ke,{modelValue:c.selected,color:e.color,dark:m.value,dense:e.dense,"onUpdate:modelValue":(k,A)=>{ae([c.key],[c.row],k,A)}})];f.unshift(n("div",{class:"q-table__grid-item-row"},x),n(Mt,{dark:m.value}))}const y={class:["q-table__grid-item-card"+C.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(y.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(y.onClick=S=>{t("RowClick",S,c.row,c.pageIndex)}),e.onRowDblclick!==void 0&&(y.onDblclick=S=>{t("RowDblclick",S,c.row,c.pageIndex)})),n("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(c.selected===!0?" q-table__grid-item--selected":"")},[n("div",y,f)])};return n("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},E.value.map((c,f)=>a(ze({key:v.value(c),row:c,pageIndex:f}))))}return Object.assign(u.proxy,{requestServerInteraction:R,setPagination:V,firstPage:he,prevPage:pe,nextPage:Se,lastPage:we,isRowSelected:fe,clearSelection:et,isRowExpanded:$,setExpanded:Q,sort:ge,resetVirtualScroll:st,scrollTo:ut,getCellValue:H}),$t(u.proxy,{filteredSortedRows:()=>W.value,computedRows:()=>E.value,computedRowsNumber:()=>re.value}),()=>{const a=[ft()],c={ref:g,class:w.value};return e.grid===!0?a.push(pt()):Object.assign(c,{class:[c.class,e.cardClass],style:e.cardStyle}),a.push(it(),bt()),e.loading===!0&&l.loading!==void 0&&a.push(l.loading()),n("div",c,a)}}});const Pa=Bt("Company",{state:()=>({addCompanyForm:!1,addEmployeeForm:!1,editCompanyForm:!1,editEmployeeForm:!1,configCompanyForm:!1,selectedCompanies:[],companies:[],employees:[],selectedEmployees:[],permissionsOptions:[{label:"U\u017E\xEDvate\u013E",value:"user"},{label:"Admin",value:"admin"}],employeeName:null,employeeCompany:null,permissions:null,name:null,email:null,password:null,allocatedTimeMonth:0,company:null,companyId:null,employeeId:null}),getters:{employeesData(){return this.employees.map(e=>({name:e.name,email:e.email,role:e.role,company:e.companyName}))},employeesSelect(){return this.employees.map(e=>({label:e.name+`(${e.email})`,value:e._id}))},companySelect(){return this.companies.map(e=>({label:e.name,value:e._id}))},employeesForCompany:e=>l=>{const t=e.companies.find(u=>u._id===l);return t?t.employees.map(u=>e.employees.find(r=>r._id===u)).filter(Boolean):[]}},actions:{async getCompanies(){try{const e=await z.get("company",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});console.log(e),this.companies=e.data.data}catch(e){T.create({message:"Chyba pri z\xEDskavan\xED spolo\u010Dnost\xED: "+e,color:"warning",position:"top"})}},async getCompany(e){try{const l=await z.get(`company/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});this.company=l.data.name,this.companyId=e,this.allocatedTimeMonth=l.data.time,l.status===200&&(this.editCompanyForm=!0)}catch(l){T.create({message:"Chyba pri z\xEDskavan\xED firmy: "+l,color:"warning",position:"top"})}},async getEmployees(){try{const e=await z.get("users",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});this.employees=e.data.data,console.log(this.employees)}catch(e){T.create({message:"Chyba pri z\xEDskavan\xED zamestnancov: "+e,color:"warning",position:"top"})}},async addCompany(){try{(await z.post("company",{name:this.name,time:this.allocatedTimeMonth},{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})).status===201&&(T.create({message:"Spolo\u010Dnos\u0165 pridan\xE1 ",color:"positive",position:"top"}),this.name="",this.allocatedTimeMonth=0,await this.getCompanies(),this.addCompanyForm=!1)}catch(e){T.create({message:"Chyba pri prid\xE1van\xED spolo\u010Dnosti: "+e,color:"warning",position:"top"})}},async updateCompany(){const e={name:this.company,time:this.allocatedTimeMonth};try{(await z.patch(`company/${this.companyId}`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})).status===200&&(T.create({message:"Firma aktualizovan\xE1",color:"positive",position:"top"}),await this.getCompanies(),this.editRoomForm=!1)}catch(l){T.create({message:"Chyba pri ukladan\xED firmy: "+l,color:"warning",position:"top"})}},async deleteCompany(e){try{(await z.delete(`company/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})).status===200&&(T.create({message:"Firma vymazan\xE1",color:"positive",position:"top"}),await this.getCompanies())}catch(l){T.create({message:"Chyba pri mazan\xED firmy: "+l,color:"warning",position:"top"})}},async assignEmployee(){const e=this.companyId,l={employees:this.selectedEmployees.map(t=>t.value)};try{const t=await z.patch(`company?company=${e}&assign=employees`,l,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});T.create({message:"Zamestnanci boli \xFAspe\u0161ne priraden\xED",color:"positive",position:"top"}),await this.getCompanies(),await this.getEmployees()}catch(t){console.error("Chyba pri prira\u010Fovan\xED zamestnancov:",t),T.create({message:"Chyba pri prira\u010Fovan\xED zamestnancov: "+t.message,color:"warning",position:"top"})}},async removeEmployeeFromCompany(e,l){try{await z.patch(`company?company=${e}&unassign=${l}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}),T.create({message:"Zamestnanec bol \xFAspe\u0161ne odstr\xE1nen\xFD",color:"positive",position:"top"}),await this.getCompanies(),await this.getEmployees()}catch(t){console.error("Chyba pri odstra\u0148ovan\xED zamestnanca:",t),T.create({message:"Chyba pri odstra\u0148ovan\xED zamestnanca: "+t.message,color:"warning",position:"top"})}},async createEmployee(){try{const e={email:this.email,name:this.employeeName,role:this.permissions.value,password:this.password};if(!e.email||!e.password||!e.name||!e.role)throw new Error("All fields are required");typeof this.employeeCompany!="undefined"&&this.employeeCompany!==""&&this.employeeCompany!==null&&(e.companyId=this.employeeCompany.value);const l=await z.post("users",e,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});T.create({message:"Zamestnanec bol \xFAspe\u0161ne vytvoren\xFD",color:"positive",position:"top"}),await this.getEmployees()}catch(e){console.error("Chyba pri vytv\xE1ran\xED zamestnanca:",e),T.create({message:"Chyba pri vytv\xE1ran\xED zamestnanca: "+e.message,color:"warning",position:"top"})}},async deleteEmployee(e){try{(await z.delete(`users/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})).status===200&&(T.create({message:"Zamestnanec vymazan\xFD",color:"positive",position:"top"}),await this.getEmployees())}catch(l){T.create({message:"Chyba pri mazan\xED firmy: "+l,color:"warning",position:"top"})}},async updateEmployee(){const e={companyId:this.employeeCompany.value,email:this.email,name:this.employeeName,role:this.permissions.value};typeof this.password!="undefined"&&this.password!==""&&this.password!==null&&(e.password=this.password);try{await z.patch(`users/${this.employeeId}`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}}),T.create({message:"Zamestnanec upraven\xFD",color:"positive",position:"top"}),await this.getEmployees()}catch(l){T.create({message:"Chyba pri upravovan\xED zamestnanca: "+l,color:"warning",position:"top"})}},async getEmployee(e){try{const l=await z.get(`users/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});l.status===200&&(this.editEmployeeForm=!0,this.employeeId=e,this.email=l.data.email,this.employeeName=l.data.name,this.permissions=l.data.role,this.employeeCompany={label:l.data.companyName,value:l.data.company})}catch(l){T.create({message:"Chyba pri upravovan\xED zamestnanca: "+l,color:"warning",position:"top"})}}}});export{ka as Q,Pa as u};
