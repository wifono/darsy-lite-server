import{C as c,h as f}from"./ClosePopup.c06d644a.js";import{d as b,e as F,f as _}from"./QCardActions.f27404cf.js";import{o as q,y as z,z as $,B as i,f as o,A as r,E as l,Q as u,u as k,az as Z,r as V,c as h,aN as U,C as y}from"./index.44e2cc04.js";import{u as S,Q as N}from"./QCard.efe14bd2.js";import{u as w,a as v}from"./companyStore.e7f186e0.js";import{S as B,_ as O,Q as A}from"./MultipleDeleteButton.6f6aa37c.js";import{Q as p,d as Q}from"./QForm.7ac48cfa.js";import{_ as M}from"./UserPasswordForm.1771d375.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";import"./axios.7aa860db.js";const D={class:"add-page add-event"},T={style:{display:"flex","align-items":"center","justify-content":"center",width:"100%",gap:"1em"}},H={class:"bnts",style:{display:"flex",gap:"1em"}},L={__name:"AddEmployeeForm",setup(C){const t=w();return S(),q(()=>{t.employeeName="",t.email="",t.password="",t.employeeCompany=null,t.permissions=[]}),(a,s)=>(z(),$("div",D,[i("section",null,[s[6]||(s[6]=i("h2",null,"Prida\u0165 zamestnanca",-1)),o(Q,{autofocus:"",onSubmit:Z(l(t).createEmployee,["prevent"])},{default:r(()=>[i("div",T,[o(p,{select:"",outlined:"",modelValue:l(t).firstname,"onUpdate:modelValue":s[0]||(s[0]=e=>l(t).firstname=e),"aria-required":"",type:"text",label:a.$t("Meno zamestnanca"),"lazy-rules":"",dark:a.$q.dark.mode,rules:[e=>e&&e.length>0||"Zadajte priezvisko zamestnanca"],"hide-bottom-space":""},null,8,["modelValue","label","dark","rules"]),o(p,{select:"",outlined:"",modelValue:l(t).surname,"onUpdate:modelValue":s[1]||(s[1]=e=>l(t).surname=e),"aria-required":"",type:"text",label:a.$t("Priezvisko zamestnanca"),"lazy-rules":"",dark:a.$q.dark.mode,rules:[e=>e&&e.length>0||"Zadajte meno zamestnanca"],"hide-bottom-space":""},null,8,["modelValue","label","dark","rules"])]),o(p,{select:"",outlined:"",modelValue:l(t).email,"onUpdate:modelValue":s[2]||(s[2]=e=>l(t).email=e),type:"text",label:a.$t("E-mail zamestnanca"),"lazy-rules":"",dark:a.$q.dark.mode,rules:[e=>e&&e.length>0||"Zadajte email zamestnanca"],"hide-bottom-space":""},null,8,["modelValue","label","dark","rules"]),o(p,{select:"",outlined:"",modelValue:l(t).password,"onUpdate:modelValue":s[3]||(s[3]=e=>l(t).password=e),type:"password",label:a.$t("Heslo zamestnanca"),"lazy-rules":"",dark:a.$q.dark.mode,rules:[e=>e&&e.length>5||"Heslo mus\xED obsahova\u0165 6 a viac znakov!"],"hide-bottom-space":""},null,8,["modelValue","label","dark","rules"]),o(b,{modelValue:l(t).employeeCompany,"onUpdate:modelValue":s[4]||(s[4]=e=>l(t).employeeCompany=e),options:l(t).companySelect,outlined:"",type:"number",label:a.$t("Spolo\u010Dnos\u0165"),"lazy-rules":"",dark:a.$q.dark.mode,"hide-bottom-space":""},null,8,["modelValue","options","label","dark"]),o(b,{modelValue:l(t).permissions,"onUpdate:modelValue":s[5]||(s[5]=e=>l(t).permissions=e),options:l(t).permissionsOptions,label:"Opr\xE1vnenia",filled:"",dark:a.$q.dark.mode,"hide-bottom-space":""},null,8,["modelValue","options","dark"]),i("div",H,[o(u,{color:"positive",icon:"create","text-color":"dark",label:"Vytvori\u0165",type:"submit"}),k(o(u,{color:"grey-5","text-color":"dark",icon:"close",label:"Zatvori\u0165"},null,512),[[c]])])]),_:1},8,["onSubmit"])])]))}},G={class:"add-page"},J={style:{display:"flex","align-items":"center","justify-content":"center",width:"100%",gap:"1em"}},K={class:"bnts",style:{display:"flex",gap:"1em"}},R={__name:"EditEmployeeForm",setup(C){const t=w();return S(),(a,s)=>(z(),$("div",G,[i("section",null,[s[5]||(s[5]=i("h2",null,"Aktualiz\xE1cia zamestnanca",-1)),o(Q,{autofocus:""},{default:r(()=>[i("div",J,[o(p,{select:"",outlined:"",modelValue:l(t).firstname,"onUpdate:modelValue":s[0]||(s[0]=e=>l(t).firstname=e),"aria-required":"",type:"text",label:a.$t("Meno zamestnanca"),"lazy-rules":"",dark:a.$q.dark.mode,rules:[e=>e&&e.length>0||"Zadajte priezvisko zamestnanca"],"hide-bottom-space":""},null,8,["modelValue","label","dark","rules"]),o(p,{select:"",outlined:"",modelValue:l(t).surname,"onUpdate:modelValue":s[1]||(s[1]=e=>l(t).surname=e),"aria-required":"",type:"text",label:a.$t("Priezvisko zamestnanca"),"lazy-rules":"",dark:a.$q.dark.mode,rules:[e=>e&&e.length>0||"Zadajte meno zamestnanca"],"hide-bottom-space":""},null,8,["modelValue","label","dark","rules"])]),o(p,{select:"",outlined:"",modelValue:l(t).email,"onUpdate:modelValue":s[2]||(s[2]=e=>l(t).email=e),type:"text",label:a.$t("E-mail zamestnanca"),"lazy-rules":"",dark:a.$q.dark.mode,rules:[e=>e&&e.length>0||"Zadajte n\xE1zov udalost"],"hide-bottom-space":""},null,8,["modelValue","label","dark","rules"]),o(b,{modelValue:l(t).employeeCompany,"onUpdate:modelValue":s[3]||(s[3]=e=>l(t).employeeCompany=e),options:l(t).companySelect,outlined:"",label:a.$t("Spolo\u010Dnos\u0165"),"lazy-rules":"",dark:a.$q.dark.mode,"hide-bottom-space":""},null,8,["modelValue","options","label","dark"]),o(b,{modelValue:l(t).permissions,"onUpdate:modelValue":s[4]||(s[4]=e=>l(t).permissions=e),options:l(t).permissionsOptions,label:"Opr\xE1vnenia",filled:"",dark:a.$q.dark.mode},null,8,["modelValue","options","dark"]),i("div",K,[o(u,{color:"positive",icon:"create","text-color":"dark",label:"Upravi\u0165",onClick:l(t).updateEmployee},null,8,["onClick"]),k(o(u,{color:"grey-5","text-color":"dark",icon:"close",label:"Zatvori\u0165"},null,512),[[c]])])]),_:1})])]))}};const W={class:"reservation-page"},X={style:{"margin-top":"0.7em"}},Y={style:{display:"flex","flex-direction":"row-reverse","align-items":"center","justify-content":"space-between"}},ee={style:{display:"flex","align-items":"center",gap:"1em"}},le={style:{width:"5em"}},ae={__name:"EmployeesPage",setup(C){const t=V(!1),a=w(),s=V(null),e=m=>{s.value=m,t.value=!0},j=m=>{a.employeeId=m,a.editPasswordForm=!0},g=V(""),P=h(()=>a.employees.filter(m=>Object.values(m).some(n=>String(n).toLowerCase().includes(g.value.toLowerCase())))),x=[{name:"name",required:!0,label:"Meno zamestnanca",align:"left",field:m=>m.name,format:m=>`${m}`,sortable:!0},{name:"email",align:"left",label:"E-mail zamestnanca",field:"email",sortable:!0},{name:"companyName",align:"left",label:"Spolo\u010Dnos\u0165",field:"companyName",sortable:!0},{name:"role",align:"left",label:"Opr\xE1vnenie",field:"role",sortable:!0},{name:"actions",label:"Akcie",align:"center",field:"actions"}];return q(async()=>{U.show(),await a.getCompanies(),await a.getEmployees(),U.hide()}),(m,n)=>(z(),$("div",W,[o(f,{modelValue:l(a).addEmployeeForm,"onUpdate:modelValue":n[0]||(n[0]=d=>l(a).addEmployeeForm=d)},{default:r(()=>[o(L)]),_:1},8,["modelValue"]),o(f,{modelValue:l(a).editEmployeeForm,"onUpdate:modelValue":n[1]||(n[1]=d=>l(a).editEmployeeForm=d)},{default:r(()=>[o(R)]),_:1},8,["modelValue"]),o(f,{modelValue:l(a).editPasswordForm,"onUpdate:modelValue":n[2]||(n[2]=d=>l(a).editPasswordForm=d)},{default:r(()=>[o(M),n[8]||(n[8]=y(" />"))]),_:1},8,["modelValue"]),o(f,{modelValue:t.value,"onUpdate:modelValue":n[4]||(n[4]=d=>t.value=d)},{default:r(()=>[o(N,{dark:"",style:{width:"20em","box-shadow":"none"}},{default:r(()=>[o(F,{style:{"text-align":"center","padding-top":"2em"}},{default:r(()=>n[9]||(n[9]=[y(" Naozaj si prajete vymaza\u0165 zamestnanca? ")])),_:1}),o(_,{align:"center"},{default:r(()=>[k(o(u,{flat:"",label:"Vymaza\u0165",onClick:n[3]||(n[3]=d=>l(a).deleteEmployee(s.value)),color:"negative"},null,512),[[c]]),k(o(u,{flat:"",label:"Zru\u0161i\u0165",color:"primary"},null,512),[[c]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n[13]||(n[13]=i("header",null,[i("div",{style:{display:"flex","align-items":"center","justify-content":"flex-end",flex:"1",gap:"1em"},class:"right-side"})],-1)),i("section",X,[i("header",Y,[o(B,{search:g.value,"onUpdate:search":n[5]||(n[5]=d=>g.value=d)},null,8,["search"]),i("div",ee,[o(u,{color:"positive",icon:"add","text-color":"dark",label:"Prida\u0165 zamestnanca",style:{height:"1em","margin-left":"0.2em"},onClick:n[6]||(n[6]=d=>l(a).addEmployeeForm=!0)}),o(O,{name:"users","selected-items":l(a).selectedEmployees},null,8,["selected-items"])])]),o(A,{style:{"margin-top":"1em","box-shadow":"none"},rows:P.value,columns:x,dark:m.$q.dark.mode,"row-key":"name",selection:"multiple",selected:l(a).selectedEmployees,"onUpdate:selected":n[7]||(n[7]=d=>l(a).selectedEmployees=d),"rows-per-page-options":[10,20,30,40,50]},{"body-cell-actions":r(d=>[i("td",le,[o(u,{color:"primary",icon:"edit",style:{"margin-right":"0.5em"},onClick:E=>l(a).getEmployee(d.row._id)},{default:r(()=>[o(v,{anchor:"top middle",class:"bg-blue",self:"center middle"},{default:r(()=>n[10]||(n[10]=[y(" Upravi\u0165 zamestnanca ")])),_:1})]),_:2},1032,["onClick"]),o(u,{color:"orange",icon:"password",style:{"margin-right":"0.5em"},onClick:E=>j(d.row._id)},{default:r(()=>[o(v,{anchor:"top middle",class:"bg-orange",self:"center middle"},{default:r(()=>n[11]||(n[11]=[y(" Upravi\u0165 heslo ")])),_:1})]),_:2},1032,["onClick"]),o(u,{color:"negative",icon:"delete",onClick:E=>e(d.row._id)},{default:r(()=>[o(v,{anchor:"top middle",class:"bg-red",self:"center middle"},{default:r(()=>n[12]||(n[12]=[y(" Vymaza\u0165 zamestnanca ")])),_:1})]),_:2},1032,["onClick"])])]),_:1},8,["rows","dark","selected"])])]))}};var ye=I(ae,[["__scopeId","data-v-00f51596"]]);export{ye as default};
