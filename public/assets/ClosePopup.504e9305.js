import{u as lt,c as At,d as Bt,e as zt,f as fl,g as vl,h as yt,i as ml}from"./QForm.518266e2.js";import{$ as nt,aa as Et,k as fe,r as M,c as v,w as ie,m as je,h as y,t as et,u as Te,g as Me,aF as Ot,aG as hl,aH as gl,A as Sl,N as $e,aI as yl,R as bl,v as de,l as wl,ak as kl,q as xl,ag as Cl,al as ql,aJ as Vl,a8 as pl,am as _l,y as ce,aK as Al,aL as Bl,a0 as Ge,aM as Oe,aj as pe,aN as zl,Y as El,aO as Ol,aP as Fl,af as Tl}from"./index.aa0ee168.js";import{c as Ft,u as Tt,a as Mt}from"./use-dark.303ff613.js";import{a as It,b as Pt,d as Rt,f as Lt,e as Dt,g as Ht,k as $t,j as Kt,n as Ml,o as Il,w as Pl,v as bt,c as Rl,h as Ll,i as Dl,r as wt,s as Hl,p as kt,m as $l,x as Kl,y as xt,t as Nl,Q as jl,z as Ql,A as Wl}from"./use-prevent-scroll.e9912bc1.js";const Se=[];let Ae;function Ul(e){Ae=e.keyCode===27}function Xl(){Ae===!0&&(Ae=!1)}function Yl(e){Ae===!0&&(Ae=!1,nt(e,27)===!0&&Se[Se.length-1](e))}function Nt(e){window[e]("keydown",Ul),window[e]("blur",Xl),window[e]("keyup",Yl),Ae=!1}function jt(e){Et.is.desktop===!0&&(Se.push(e),Se.length===1&&Nt("addEventListener"))}function Ke(e){const o=Se.indexOf(e);o!==-1&&(Se.splice(o,1),Se.length===0&&Nt("removeEventListener"))}const ye=[];function Qt(e){ye[ye.length-1](e)}function Wt(e){Et.is.desktop===!0&&(ye.push(e),ye.length===1&&document.body.addEventListener("focusin",Qt))}function tt(e){const o=ye.indexOf(e);o!==-1&&(ye.splice(o,1),ye.length===0&&document.body.removeEventListener("focusin",Qt))}let He=0;const Gl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Ct={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Jl=fe({name:"QDialog",inheritAttrs:!1,props:{...It,...Pt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Rt,"shake","click","escapeKey"],setup(e,{slots:o,emit:n,attrs:m}){const C=Me(),i=M(null),V=M(!1),b=M(!1);let g=null,q=null,d,S;const k=v(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:p}=Il(),{registerTimeout:B}=Lt(),{registerTick:H,removeTick:h}=Dt(),{transitionProps:D,transitionStyle:W}=Ht(e,()=>Ct[e.position][0],()=>Ct[e.position][1]),L=v(()=>W.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:E,hidePortal:ae,portalIsAccessible:F,renderPortal:K}=$t(C,i,T,"dialog"),{hide:N}=Kt({showing:V,hideOnRouteChange:k,handleShow:te,handleHide:j,processOnMount:!0}),{addToHistory:ee,removeFromHistory:X}=Ml(V,N,k),re=v(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Gl[e.position]}`+(b.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),R=v(()=>V.value===!0&&e.seamless!==!0),G=v(()=>e.autoClose===!0?{onClick:a}:{}),se=v(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${R.value===!0?"modal":"seamless"}`,m.class]);ie(()=>e.maximized,r=>{V.value===!0&&l(r)}),ie(R,r=>{p(r),r===!0?(Wt(_),jt(Q)):(tt(_),Ke(Q))});function te(r){ee(),q=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,l(e.maximized),E(),b.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),H(J)):h(),B(()=>{if(C.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:f,bottom:A}=document.activeElement.getBoundingClientRect(),{innerHeight:u}=window,I=window.visualViewport!==void 0?window.visualViewport.height:u;f>0&&A>I/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-I,A>=u?1/0:Math.ceil(document.scrollingElement.scrollTop+A-I/2))),document.activeElement.scrollIntoView()}S=!0,i.value.click(),S=!1}E(!0),b.value=!1,n("show",r)},e.transitionDuration)}function j(r){h(),X(),le(!0),b.value=!0,ae(),q!==null&&(((r&&r.type.indexOf("key")===0?q.closest('[tabindex]:not([tabindex^="-"])'):void 0)||q).focus(),q=null),B(()=>{ae(!0),b.value=!1,n("hide",r)},e.transitionDuration)}function J(r){Ft(()=>{let f=i.value;if(f!==null){if(r!==void 0){const A=f.querySelector(r);if(A!==null){A.focus({preventScroll:!0});return}}f.contains(document.activeElement)!==!0&&(f=f.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||f.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||f.querySelector("[autofocus], [data-autofocus]")||f,f.focus({preventScroll:!0}))}})}function Y(r){r&&typeof r.focus=="function"?r.focus({preventScroll:!0}):J(),n("shake");const f=i.value;f!==null&&(f.classList.remove("q-animate--scale"),f.classList.add("q-animate--scale"),g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,i.value!==null&&(f.classList.remove("q-animate--scale"),J())},170))}function Q(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&Y():(n("escapeKey"),N()))}function le(r){g!==null&&(clearTimeout(g),g=null),(r===!0||V.value===!0)&&(l(!1),e.seamless!==!0&&(p(!1),tt(_),Ke(Q))),r!==!0&&(q=null)}function l(r){r===!0?d!==!0&&(He<1&&document.body.classList.add("q-body--dialog"),He++,d=!0):d===!0&&(He<2&&document.body.classList.remove("q-body--dialog"),He--,d=!1)}function a(r){S!==!0&&(N(r),n("click",r))}function w(r){e.persistent!==!0&&e.noBackdropDismiss!==!0?N(r):e.noShake!==!0&&Y()}function _(r){e.allowFocusOutside!==!0&&F.value===!0&&Ot(i.value,r.target)!==!0&&J('[tabindex]:not([tabindex="-1"])')}Object.assign(C.proxy,{focus:J,shake:Y,__updateRefocusTarget(r){q=r||null}}),je(le);function T(){return y("div",{role:"dialog","aria-modal":R.value===!0?"true":"false",...m,class:se.value},[y(et,{name:"q-transition--fade",appear:!0},()=>R.value===!0?y("div",{class:"q-dialog__backdrop fixed-full",style:L.value,"aria-hidden":"true",tabindex:-1,onClick:w}):null),y(et,D.value,()=>V.value===!0?y("div",{ref:i,class:re.value,style:W.value,tabindex:-1,...G.value},Te(o.default)):null)])}return K}}),Zl=fe({name:"QField",inheritAttrs:!1,props:{...lt,tag:{type:String,default:"label"}},emits:At,setup(){return Bt(zt({tagProp:!0}))}});const en={xs:8,sm:10,md:14,lg:20,xl:24};var tn=fe({name:"QChip",props:{...Tt,...hl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:n}){const{proxy:{$q:m}}=Me(),C=Mt(e,m),i=gl(e,en),V=v(()=>e.selected===!0||e.icon!==void 0),b=v(()=>e.selected===!0?e.iconSelected||m.iconSet.chip.selected:e.icon),g=v(()=>e.iconRemove||m.iconSet.chip.remove),q=v(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=v(()=>{const h=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(h?` text-${h} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(q.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(C.value===!0?" q-chip--dark q-dark":"")}),S=v(()=>{const h=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},D={...h,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||m.lang.label.remove};return{chip:h,remove:D}});function k(h){h.keyCode===13&&p(h)}function p(h){e.disable||(n("update:selected",!e.selected),n("click",h))}function B(h){(h.keyCode===void 0||h.keyCode===13)&&(de(h),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function H(){const h=[];q.value===!0&&h.push(y("div",{class:"q-focus-helper"})),V.value===!0&&h.push(y($e,{class:"q-chip__icon q-chip__icon--left",name:b.value}));const D=e.label!==void 0?[y("div",{class:"ellipsis"},[e.label])]:void 0;return h.push(y("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},yl(o.default,D))),e.iconRight&&h.push(y($e,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&h.push(y($e,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...S.value.remove,onClick:B,onKeyup:B})),h}return()=>{if(e.modelValue===!1)return;const h={class:d.value,style:i.value};return q.value===!0&&Object.assign(h,S.value.chip,{onClick:p,onKeyup:k}),Sl("div",h,H(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[bl,e.ripple]])}}}),ln=fe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:o}){const n=v(()=>parseInt(e.lines,10)),m=v(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),C=v(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>y("div",{style:C.value,class:m.value},Te(o.default))}}),nn=fe({name:"QMenu",inheritAttrs:!1,props:{...Pl,...It,...Tt,...Pt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:bt},self:{type:String,validator:bt},offset:{type:Array,validator:Rl},scrollTarget:wl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Rt,"click","escapeKey"],setup(e,{slots:o,emit:n,attrs:m}){let C=null,i,V,b;const g=Me(),{proxy:q}=g,{$q:d}=q,S=M(null),k=M(!1),p=v(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),B=Mt(e,d),{registerTick:H,removeTick:h}=Dt(),{registerTimeout:D}=Lt(),{transitionProps:W,transitionStyle:L}=Ht(e),{localScrollTarget:E,changeScrollEvent:ae,unconfigureScrollTarget:F}=Ll(e,w),{anchorEl:K,canShow:N}=Dl({showing:k}),{hide:ee}=Kt({showing:k,canShow:N,handleShow:le,handleHide:l,hideOnRouteChange:p,processOnMount:!0}),{showPortal:X,hidePortal:re,renderPortal:R}=$t(g,S,A,"menu"),G={anchorEl:K,innerRef:S,onClickOutside(u){if(e.persistent!==!0&&k.value===!0)return ee(u),(u.type==="touchstart"||u.target.classList.contains("q-dialog__backdrop"))&&de(u),!0}},se=v(()=>kt(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),te=v(()=>e.cover===!0?se.value:kt(e.self||"top start",d.lang.rtl)),j=v(()=>(e.square===!0?" q-menu--square":"")+(B.value===!0?" q-menu--dark q-dark":"")),J=v(()=>e.autoClose===!0?{onClick:_}:{}),Y=v(()=>k.value===!0&&e.persistent!==!0);ie(Y,u=>{u===!0?(jt(r),$l(G)):(Ke(r),wt(G))});function Q(){Ft(()=>{let u=S.value;u&&u.contains(document.activeElement)!==!0&&(u=u.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.querySelector("[autofocus], [data-autofocus]")||u,u.focus({preventScroll:!0}))})}function le(u){if(C=e.noRefocus===!1?document.activeElement:null,Wt(T),X(),w(),i=void 0,u!==void 0&&(e.touchPosition||e.contextMenu)){const I=kl(u);if(I.left!==void 0){const{top:ne,left:be}=K.value.getBoundingClientRect();i={left:I.left-be,top:I.top-ne}}}V===void 0&&(V=ie(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,f)),e.noFocus!==!0&&document.activeElement.blur(),H(()=>{f(),e.noFocus!==!0&&Q()}),D(()=>{d.platform.is.ios===!0&&(b=e.autoClose,S.value.click()),f(),X(!0),n("show",u)},e.transitionDuration)}function l(u){h(),re(),a(!0),C!==null&&(u===void 0||u.qClickOutside!==!0)&&(((u&&u.type.indexOf("key")===0?C.closest('[tabindex]:not([tabindex^="-"])'):void 0)||C).focus(),C=null),D(()=>{re(!0),n("hide",u)},e.transitionDuration)}function a(u){i=void 0,V!==void 0&&(V(),V=void 0),(u===!0||k.value===!0)&&(tt(T),F(),wt(G),Ke(r)),u!==!0&&(C=null)}function w(){(K.value!==null||e.scrollTarget!==void 0)&&(E.value=xl(K.value,e.scrollTarget),ae(E.value,f))}function _(u){b!==!0?(Kl(q,u),n("click",u)):b=!1}function T(u){Y.value===!0&&e.noFocus!==!0&&Ot(S.value,u.target)!==!0&&Q()}function r(u){n("escapeKey"),ee(u)}function f(){Hl({targetEl:S.value,offset:e.offset,anchorEl:K.value,anchorOrigin:se.value,selfOrigin:te.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function A(){return y(et,W.value,()=>k.value===!0?y("div",{role:"menu",...m,ref:S,tabindex:-1,class:["q-menu q-position-engine scroll"+j.value,m.class],style:[m.style,L.value],...J.value},Te(o.default)):null)}return je(a),Object.assign(q,{focus:Q,updatePosition:f}),R}});let Ne=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const o=document.createElement("div");Object.assign(o.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,Ne=e.scrollLeft>=0,e.remove()}const Z=1e3,on=["start","center","end","start-force","center-force","end-force"],Ut=Array.prototype.filter,un=window.getComputedStyle(document.body).overflowAnchor===void 0?Cl:function(e,o){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Ut.call(n,C=>C.dataset&&C.dataset.qVsAnchor!==void 0).forEach(C=>{delete C.dataset.qVsAnchor});const m=n[o];m&&m.dataset&&(m.dataset.qVsAnchor="")}))};function _e(e,o){return e+o}function Je(e,o,n,m,C,i,V,b){const g=e===window?document.scrollingElement||document.documentElement:e,q=C===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-V-b,scrollMaxSize:0,offsetStart:-V,offsetEnd:-b};if(C===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=g.scrollLeft,d.scrollViewSize+=g.clientWidth),d.scrollMaxSize=g.scrollWidth,i===!0&&(d.scrollStart=(Ne===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=g.scrollTop,d.scrollViewSize+=g.clientHeight),d.scrollMaxSize=g.scrollHeight),n!==null)for(let S=n.previousElementSibling;S!==null;S=S.previousElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=S[q]);if(m!==null)for(let S=m.nextElementSibling;S!==null;S=S.nextElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=S[q]);if(o!==e){const S=g.getBoundingClientRect(),k=o.getBoundingClientRect();C===!0?(d.offsetStart+=k.left-S.left,d.offsetEnd-=k.width):(d.offsetStart+=k.top-S.top,d.offsetEnd-=k.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function qt(e,o,n,m){o==="end"&&(o=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(m===!0&&(o=(Ne===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):n===!0?(m===!0&&(o=(Ne===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function Fe(e,o,n,m){if(n>=m)return 0;const C=o.length,i=Math.floor(n/Z),V=Math.floor((m-1)/Z)+1;let b=e.slice(i,V).reduce(_e,0);return n%Z!==0&&(b-=o.slice(i*Z,n).reduce(_e,0)),m%Z!==0&&m!==C&&(b-=o.slice(m,V*Z).reduce(_e,0)),b}const Xt={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},mn=Object.keys(Xt),Vt={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Xt};function an({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:n,virtualScrollItemSizeComputed:m}){const C=Me(),{props:i,emit:V,proxy:b}=C,{$q:g}=b;let q,d,S,k=[],p;const B=M(0),H=M(0),h=M({}),D=M(null),W=M(null),L=M(null),E=M({from:0,to:0}),ae=v(()=>i.tableColspan!==void 0?i.tableColspan:100);m===void 0&&(m=v(()=>i.virtualScrollItemSize));const F=v(()=>m.value+";"+i.virtualScrollHorizontal),K=v(()=>F.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);ie(K,()=>{j()}),ie(F,N);function N(){te(d,!0)}function ee(l){te(l===void 0?d:l)}function X(l,a){const w=o();if(w==null||w.nodeType===8)return;const _=Je(w,n(),D.value,W.value,i.virtualScrollHorizontal,g.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);S!==_.scrollViewSize&&j(_.scrollViewSize),R(w,_,Math.min(e.value-1,Math.max(0,parseInt(l,10)||0)),0,on.indexOf(a)!==-1?a:d!==-1&&l>d?"end":"start")}function re(){const l=o();if(l==null||l.nodeType===8)return;const a=Je(l,n(),D.value,W.value,i.virtualScrollHorizontal,g.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),w=e.value-1,_=a.scrollMaxSize-a.offsetStart-a.offsetEnd-H.value;if(q===a.scrollStart)return;if(a.scrollMaxSize<=0){R(l,a,0,0);return}S!==a.scrollViewSize&&j(a.scrollViewSize),G(E.value.from);const T=Math.floor(a.scrollMaxSize-Math.max(a.scrollViewSize,a.offsetEnd)-Math.min(p[w],a.scrollViewSize/2));if(T>0&&Math.ceil(a.scrollStart)>=T){R(l,a,w,a.scrollMaxSize-a.offsetEnd-k.reduce(_e,0));return}let r=0,f=a.scrollStart-a.offsetStart,A=f;if(f<=_&&f+a.scrollViewSize>=B.value)f-=B.value,r=E.value.from,A=f;else for(let u=0;f>=k[u]&&r<w;u++)f-=k[u],r+=Z;for(;f>0&&r<w;)f-=p[r],f>-a.scrollViewSize?(r++,A=f):A=p[r]+f;R(l,a,r,A)}function R(l,a,w,_,T){const r=typeof T=="string"&&T.indexOf("-force")!==-1,f=r===!0?T.replace("-force",""):T,A=f!==void 0?f:"start";let u=Math.max(0,w-h.value[A]),I=u+h.value.total;I>e.value&&(I=e.value,u=Math.max(0,I-h.value.total)),q=a.scrollStart;const ne=u!==E.value.from||I!==E.value.to;if(ne===!1&&f===void 0){Y(w);return}const{activeElement:be}=document,oe=L.value;ne===!0&&oe!==null&&oe!==be&&oe.contains(be)===!0&&(oe.addEventListener("focusout",se),setTimeout(()=>{oe!==null&&oe.removeEventListener("focusout",se)})),un(oe,w-u);const Ie=f!==void 0?p.slice(u,w).reduce(_e,0):0;if(ne===!0){const ve=I>=E.value.from&&u<=E.value.to?E.value.to:I;E.value={from:u,to:ve},B.value=Fe(k,p,0,u),H.value=Fe(k,p,I,e.value),requestAnimationFrame(()=>{E.value.to!==I&&q===a.scrollStart&&(E.value={from:E.value.from,to:I},H.value=Fe(k,p,I,e.value))})}requestAnimationFrame(()=>{if(q!==a.scrollStart)return;ne===!0&&G(u);const ve=p.slice(u,w).reduce(_e,0),me=ve+a.offsetStart+B.value,Pe=me+p[w];let Be=me+_;if(f!==void 0){const Qe=ve-Ie,ze=a.scrollStart+Qe;Be=r!==!0&&ze<me&&Pe<ze+a.scrollViewSize?ze:f==="end"?Pe-a.scrollViewSize:me-(f==="start"?0:Math.round((a.scrollViewSize-p[w])/2))}q=Be,qt(l,Be,i.virtualScrollHorizontal,g.lang.rtl),Y(w)})}function G(l){const a=L.value;if(a){const w=Ut.call(a.children,u=>u.classList&&u.classList.contains("q-virtual-scroll--skip")===!1),_=w.length,T=i.virtualScrollHorizontal===!0?u=>u.getBoundingClientRect().width:u=>u.offsetHeight;let r=l,f,A;for(let u=0;u<_;){for(f=T(w[u]),u++;u<_&&w[u].classList.contains("q-virtual-scroll--with-prev")===!0;)f+=T(w[u]),u++;A=f-p[r],A!==0&&(p[r]+=A,k[Math.floor(r/Z)]+=A),r++}}}function se(){L.value!==null&&L.value!==void 0&&L.value.focus()}function te(l,a){const w=1*m.value;(a===!0||Array.isArray(p)===!1)&&(p=[]);const _=p.length;p.length=e.value;for(let r=e.value-1;r>=_;r--)p[r]=w;const T=Math.floor((e.value-1)/Z);k=[];for(let r=0;r<=T;r++){let f=0;const A=Math.min((r+1)*Z,e.value);for(let u=r*Z;u<A;u++)f+=p[u];k.push(f)}d=-1,q=void 0,B.value=Fe(k,p,0,E.value.from),H.value=Fe(k,p,E.value.to,e.value),l>=0?(G(E.value.from),ce(()=>{X(l)})):Q()}function j(l){if(l===void 0&&typeof window!="undefined"){const f=o();f!=null&&f.nodeType!==8&&(l=Je(f,n(),D.value,W.value,i.virtualScrollHorizontal,g.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}S=l;const a=parseFloat(i.virtualScrollSliceRatioBefore)||0,w=parseFloat(i.virtualScrollSliceRatioAfter)||0,_=1+a+w,T=l===void 0||l<=0?1:Math.ceil(l/m.value),r=Math.max(1,T,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/_));h.value={total:Math.ceil(r*_),start:Math.ceil(r*a),center:Math.ceil(r*(.5+a)),end:Math.ceil(r*(1+a)),view:T}}function J(l,a){const w=i.virtualScrollHorizontal===!0?"width":"height",_={["--q-virtual-scroll-item-"+w]:m.value+"px"};return[l==="tbody"?y(l,{class:"q-virtual-scroll__padding",key:"before",ref:D},[y("tr",[y("td",{style:{[w]:`${B.value}px`,..._},colspan:ae.value})])]):y(l,{class:"q-virtual-scroll__padding",key:"before",ref:D,style:{[w]:`${B.value}px`,..._}}),y(l,{class:"q-virtual-scroll__content",key:"content",ref:L,tabindex:-1},a.flat()),l==="tbody"?y(l,{class:"q-virtual-scroll__padding",key:"after",ref:W},[y("tr",[y("td",{style:{[w]:`${H.value}px`,..._},colspan:ae.value})])]):y(l,{class:"q-virtual-scroll__padding",key:"after",ref:W,style:{[w]:`${H.value}px`,..._}})]}function Y(l){d!==l&&(i.onVirtualScroll!==void 0&&V("virtualScroll",{index:l,from:E.value.from,to:E.value.to-1,direction:l<d?"decrease":"increase",ref:b}),d=l)}j();const Q=ql(re,g.platform.is.ios===!0?120:35);Vl(()=>{j()});let le=!1;return pl(()=>{le=!0}),_l(()=>{if(le!==!0)return;const l=o();q!==void 0&&l!==void 0&&l!==null&&l.nodeType!==8?qt(l,q,i.virtualScrollHorizontal,g.lang.rtl):X(d)}),je(()=>{Q.cancel()}),Object.assign(b,{scrollTo:X,reset:N,refresh:ee}),{virtualScrollSliceRange:E,virtualScrollSliceSizeComputed:h,setVirtualScrollSize:j,onVirtualScrollEvt:Q,localResetVirtualScroll:te,padVirtualScroll:J,scrollTo:X,reset:N,refresh:ee}}const pt=e=>["add","add-unique","toggle"].includes(e),rn=".*+?^${}()|[]\\",sn=Object.keys(lt);function Ze(e,o){if(typeof e=="function")return e;const n=e!==void 0?e:o;return m=>m!==null&&typeof m=="object"&&n in m?m[n]:m}var hn=fe({name:"QSelect",inheritAttrs:!1,props:{...Vt,...fl,...lt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:pt},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Vt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...At,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:o,emit:n}){const{proxy:m}=Me(),{$q:C}=m,i=M(!1),V=M(!1),b=M(-1),g=M(""),q=M(!1),d=M(!1);let S=null,k=null,p,B,H,h=null,D,W,L,E;const ae=M(null),F=M(null),K=M(null),N=M(null),ee=M(null),X=vl(e),re=ml(vt),R=v(()=>Array.isArray(e.options)?e.options.length:0),G=v(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:se,virtualScrollSliceSizeComputed:te,localResetVirtualScroll:j,padVirtualScroll:J,onVirtualScrollEvt:Y,scrollTo:Q,setVirtualScrollSize:le}=an({virtualScrollLength:R,getVirtualScrollTarget:Zt,getVirtualScrollEl:dt,virtualScrollItemSizeComputed:G}),l=zt(),a=v(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,s=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const c=e.mapOptions===!0&&p!==void 0?p:[],x=s.map(O=>Jt(O,c));return e.modelValue===null&&t===!0?x.filter(O=>O!==null):x}return s}),w=v(()=>{const t={};return sn.forEach(s=>{const c=e[s];c!==void 0&&(t[s]=c)}),t}),_=v(()=>e.optionsDark===null?l.isDark.value:e.optionsDark),T=v(()=>yt(a.value)),r=v(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||a.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),f=v(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),A=v(()=>R.value===0),u=v(()=>a.value.map(t=>U.value(t)).join(", ")),I=v(()=>e.displayValue!==void 0?e.displayValue:u.value),ne=v(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),be=v(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||a.value.some(ne.value))),oe=v(()=>l.focused.value===!0?e.tabindex:-1),Ie=v(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${l.targetUid.value}_lb`};return b.value>=0&&(t["aria-activedescendant"]=`${l.targetUid.value}_${b.value}`),t}),ve=v(()=>({id:`${l.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),me=v(()=>a.value.map((t,s)=>({index:s,opt:t,html:ne.value(t),selected:!0,removeAtIndex:Gt,toggleOption:he,tabindex:oe.value}))),Pe=v(()=>{if(R.value===0)return[];const{from:t,to:s}=se.value;return e.options.slice(t,s).map((c,x)=>{const O=we.value(c)===!0,z=Ue(c)===!0,$=t+x,P={clickable:!0,active:z,activeClass:ze.value,manualFocus:!0,focused:!1,disable:O,tabindex:-1,dense:e.optionsDense,dark:_.value,role:"option","aria-selected":z===!0?"true":"false",id:`${l.targetUid.value}_${$}`,onClick:()=>{he(c)}};return O!==!0&&(b.value===$&&(P.focused=!0),C.platform.is.desktop===!0&&(P.onMousemove=()=>{i.value===!0&&ke($)})),{index:$,opt:c,html:ne.value(c),label:U.value(c),selected:P.active,focused:P.focused,toggleOption:he,setOptionIndex:ke,itemProps:P}})}),Be=v(()=>e.dropdownIcon!==void 0?e.dropdownIcon:C.iconSet.arrow.dropdown),Qe=v(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ze=v(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ue=v(()=>Ze(e.optionValue,"value")),U=v(()=>Ze(e.optionLabel,"label")),we=v(()=>Ze(e.optionDisable,"disable")),Re=v(()=>a.value.map(ue.value)),Yt=v(()=>{const t={onInput:vt,onChange:re,onKeydown:ct,onKeyup:rt,onKeypress:st,onFocus:it,onClick(s){B===!0&&pe(s)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=re,t});ie(a,t=>{p=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&l.innerLoading.value!==!0&&(V.value!==!0&&i.value!==!0||T.value!==!0)&&(H!==!0&&Ve(),(V.value===!0||i.value===!0)&&xe(""))},{immediate:!0}),ie(()=>e.fillInput,Ve),ie(i,Xe),ie(R,dl);function ot(t){return e.emitValue===!0?ue.value(t):t}function We(t){if(t!==-1&&t<a.value.length)if(e.multiple===!0){const s=e.modelValue.slice();n("remove",{index:t,value:s.splice(t,1)[0]}),n("update:modelValue",s)}else n("update:modelValue",null)}function Gt(t){We(t),l.focus()}function ut(t,s){const c=ot(t);if(e.multiple!==!0){e.fillInput===!0&&Ee(U.value(t),!0,!0),n("update:modelValue",c);return}if(a.value.length===0){n("add",{index:0,value:c}),n("update:modelValue",e.multiple===!0?[c]:c);return}if(s===!0&&Ue(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const x=e.modelValue.slice();n("add",{index:x.length,value:c}),x.push(c),n("update:modelValue",x)}function he(t,s){if(l.editable.value!==!0||t===void 0||we.value(t)===!0)return;const c=ue.value(t);if(e.multiple!==!0){s!==!0&&(Ee(e.fillInput===!0?U.value(t):"",!0,!0),ge()),F.value!==null&&F.value.focus(),(a.value.length===0||Oe(ue.value(a.value[0]),c)!==!0)&&n("update:modelValue",e.emitValue===!0?c:t);return}if((B!==!0||q.value===!0)&&l.focus(),it(),a.value.length===0){const z=e.emitValue===!0?c:t;n("add",{index:0,value:z}),n("update:modelValue",e.multiple===!0?[z]:z);return}const x=e.modelValue.slice(),O=Re.value.findIndex(z=>Oe(z,c));if(O!==-1)n("remove",{index:O,value:x.splice(O,1)[0]});else{if(e.maxValues!==void 0&&x.length>=e.maxValues)return;const z=e.emitValue===!0?c:t;n("add",{index:x.length,value:z}),x.push(z)}n("update:modelValue",x)}function ke(t){if(C.platform.is.desktop!==!0)return;const s=t!==-1&&t<R.value?t:-1;b.value!==s&&(b.value=s)}function Le(t=1,s){if(i.value===!0){let c=b.value;do c=xt(c+t,-1,R.value-1);while(c!==-1&&c!==b.value&&we.value(e.options[c])===!0);b.value!==c&&(ke(c),Q(c),s!==!0&&e.useInput===!0&&e.fillInput===!0&&De(c>=0?U.value(e.options[c]):D,!0))}}function Jt(t,s){const c=x=>Oe(ue.value(x),t);return e.options.find(c)||s.find(c)||t}function Ue(t){const s=ue.value(t);return Re.value.find(c=>Oe(c,s))!==void 0}function it(t){e.useInput===!0&&F.value!==null&&(t===void 0||F.value===t.target&&t.target.value===u.value)&&F.value.select()}function at(t){nt(t,27)===!0&&i.value===!0&&(pe(t),ge(),Ve()),n("keyup",t)}function rt(t){const{value:s}=t.target;if(t.keyCode!==void 0){at(t);return}if(t.target.value="",S!==null&&(clearTimeout(S),S=null),k!==null&&(clearTimeout(k),k=null),Ve(),typeof s=="string"&&s.length!==0){const c=s.toLocaleLowerCase(),x=z=>{const $=e.options.find(P=>String(z.value(P)).toLocaleLowerCase()===c);return $===void 0?!1:(a.value.indexOf($)===-1?he($):ge(),!0)},O=z=>{x(ue)!==!0&&z!==!0&&x(U)!==!0&&xe(s,!0,()=>O(!0))};O()}else l.clearValue(t)}function st(t){n("keypress",t)}function ct(t){if(n("keydown",t),zl(t)===!0)return;const s=g.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),c=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(b.value!==-1||s===!0);if(t.keyCode===27){Ge(t);return}if(t.keyCode===9&&c===!1){Ce();return}if(t.target===void 0||t.target.id!==l.targetUid.value||l.editable.value!==!0)return;if(t.keyCode===40&&l.innerLoading.value!==!0&&i.value===!1){de(t),qe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?We(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(de(t),b.value=-1,Le(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&te.value!==void 0&&(de(t),b.value=Math.max(-1,Math.min(R.value,b.value+(t.keyCode===33?-1:1)*te.value.view)),Le(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(de(t),Le(t.keyCode===38?-1:1,e.multiple));const x=R.value;if((L===void 0||E<Date.now())&&(L=""),x>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||L.length!==0)){i.value!==!0&&qe(t);const O=t.key.toLocaleLowerCase(),z=L.length===1&&L[0]===O;E=Date.now()+1500,z===!1&&(de(t),L+=O);const $=new RegExp("^"+L.split("").map(Ye=>rn.indexOf(Ye)!==-1?"\\"+Ye:Ye).join(".*"),"i");let P=b.value;if(z===!0||P<0||$.test(U.value(e.options[P]))!==!0)do P=xt(P+1,-1,x-1);while(P!==b.value&&(we.value(e.options[P])===!0||$.test(U.value(e.options[P]))!==!0));b.value!==P&&ce(()=>{ke(P),Q(P),P>=0&&e.useInput===!0&&e.fillInput===!0&&De(U.value(e.options[P]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||L!=="")&&(t.keyCode!==9||c===!1))){if(t.keyCode!==9&&de(t),b.value!==-1&&b.value<x){he(e.options[b.value]);return}if(s===!0){const O=(z,$)=>{if($){if(pt($)!==!0)return}else $=e.newValueMode;if(Ee("",e.multiple!==!0,!0),z==null)return;($==="toggle"?he:ut)(z,$==="add-unique"),e.multiple!==!0&&(F.value!==null&&F.value.focus(),ge())};if(e.onNewValue!==void 0?n("newValue",g.value,O):O(g.value),e.multiple!==!0)return}i.value===!0?Ce():l.innerLoading.value!==!0&&qe()}}function dt(){return B===!0?ee.value:K.value!==null&&K.value.contentEl!==null?K.value.contentEl:void 0}function Zt(){return dt()}function el(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?me.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?me.value.map((t,s)=>y(tn,{key:"option-"+s,removable:l.editable.value===!0&&we.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:oe.value,onRemove(){t.removeAtIndex(s)}},()=>y("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:U.value(t.opt)}))):[y("span",{[be.value===!0?"innerHTML":"textContent"]:I.value})]}function ft(){if(A.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:g.value}):void 0;const t=o.option!==void 0?o.option:c=>y(jl,{key:c.index,...c.itemProps},()=>y(Nl,()=>y(ln,()=>y("span",{[c.html===!0?"innerHTML":"textContent"]:c.label}))));let s=J("div",Pe.value.map(t));return o["before-options"]!==void 0&&(s=o["before-options"]().concat(s)),El(o["after-options"],s)}function tl(t,s){const c=s===!0?{...Ie.value,...l.splitAttrs.attributes.value}:void 0,x={ref:s===!0?F:void 0,key:"i_t",class:r.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...c,id:s===!0?l.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Yt.value};return t!==!0&&B===!0&&(Array.isArray(x.class)===!0?x.class=[...x.class,"no-pointer-events"]:x.class+=" no-pointer-events"),y("input",x)}function vt(t){S!==null&&(clearTimeout(S),S=null),k!==null&&(clearTimeout(k),k=null),!(t&&t.target&&t.target.qComposing===!0)&&(De(t.target.value||""),H=!0,D=g.value,l.focused.value!==!0&&(B!==!0||q.value===!0)&&l.focus(),e.onFilter!==void 0&&(S=setTimeout(()=>{S=null,xe(g.value)},e.inputDebounce)))}function De(t,s){g.value!==t&&(g.value=t,s===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",t):k=setTimeout(()=>{k=null,n("inputValue",t)},e.inputDebounce))}function Ee(t,s,c){H=c!==!0,e.useInput===!0&&(De(t,!0),(s===!0||c!==!0)&&(D=t),s!==!0&&xe(t))}function xe(t,s,c){if(e.onFilter===void 0||s!==!0&&l.focused.value!==!0)return;l.innerLoading.value===!0?n("filterAbort"):(l.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&a.value.length!==0&&H!==!0&&t===U.value(a.value[0])&&(t="");const x=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);h!==null&&clearTimeout(h),h=x,n("filter",t,(O,z)=>{(s===!0||l.focused.value===!0)&&h===x&&(clearTimeout(h),typeof O=="function"&&O(),d.value=!1,ce(()=>{l.innerLoading.value=!1,l.editable.value===!0&&(s===!0?i.value===!0&&ge():i.value===!0?Xe(!0):i.value=!0),typeof z=="function"&&ce(()=>{z(m)}),typeof c=="function"&&ce(()=>{c(m)})}))},()=>{l.focused.value===!0&&h===x&&(clearTimeout(h),l.innerLoading.value=!1,d.value=!1),i.value===!0&&(i.value=!1)})}function ll(){return y(nn,{ref:K,class:f.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&A.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:_.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Qe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ve.value,onScrollPassive:Y,onBeforeShow:ht,onBeforeHide:nl,onShow:ol},ft)}function nl(t){gt(t),Ce()}function ol(){le()}function ul(t){pe(t),F.value!==null&&F.value.focus(),q.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function il(t){pe(t),ce(()=>{q.value=!1})}function al(){const t=[y(Zl,{class:`col-auto ${l.fieldClass.value}`,...w.value,for:l.targetUid.value,dark:_.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...l.splitAttrs.listeners.value,onFocus:ul,onBlur:il},{...o,rawControl:()=>l.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(y("div",{ref:ee,class:f.value+" scroll",style:e.popupContentStyle,...ve.value,onClick:Ge,onScrollPassive:Y},ft())),y(Jl,{ref:N,modelValue:V.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:ht,onBeforeHide:rl,onHide:sl,onShow:cl},()=>y("div",{class:"q-select__dialog"+(_.value===!0?" q-select__dialog--dark q-dark":"")+(q.value===!0?" q-select__dialog--focused":"")},t))}function rl(t){gt(t),N.value!==null&&N.value.__updateRefocusTarget(l.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),l.focused.value=!1}function sl(t){ge(),l.focused.value===!1&&n("blur",t),Ve()}function cl(){const t=document.activeElement;(t===null||t.id!==l.targetUid.value)&&F.value!==null&&F.value!==t&&F.value.focus(),le()}function Ce(){V.value!==!0&&(b.value=-1,i.value===!0&&(i.value=!1),l.focused.value===!1&&(h!==null&&(clearTimeout(h),h=null),l.innerLoading.value===!0&&(n("filterAbort"),l.innerLoading.value=!1,d.value=!1)))}function qe(t){l.editable.value===!0&&(B===!0?(l.onControlFocusin(t),V.value=!0,ce(()=>{l.focus()})):l.focus(),e.onFilter!==void 0?xe(g.value):(A.value!==!0||o["no-option"]!==void 0)&&(i.value=!0))}function ge(){V.value=!1,Ce()}function Ve(){e.useInput===!0&&Ee(e.multiple!==!0&&e.fillInput===!0&&a.value.length!==0&&U.value(a.value[0])||"",!0,!0)}function Xe(t){let s=-1;if(t===!0){if(a.value.length!==0){const c=ue.value(a.value[0]);s=e.options.findIndex(x=>Oe(ue.value(x),c))}j(s)}ke(s)}function dl(t,s){i.value===!0&&l.innerLoading.value===!1&&(j(-1,!0),ce(()=>{i.value===!0&&l.innerLoading.value===!1&&(t>s?j():Xe(!0))}))}function mt(){V.value===!1&&K.value!==null&&K.value.updatePosition()}function ht(t){t!==void 0&&pe(t),n("popupShow",t),l.hasPopupOpen=!0,l.onControlFocusin(t)}function gt(t){t!==void 0&&pe(t),n("popupHide",t),l.hasPopupOpen=!1,l.onControlFocusout(t)}function St(){B=C.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||A.value===!1:!0),W=C.platform.is.ios===!0&&B===!0&&e.useInput===!0?"fade":e.transitionShow}return Al(St),Bl(mt),St(),je(()=>{S!==null&&clearTimeout(S),k!==null&&clearTimeout(k)}),Object.assign(m,{showPopup:qe,hidePopup:ge,removeAtIndex:We,add:ut,toggleOption:he,getOptionIndex:()=>b.value,setOptionIndex:ke,moveOptionSelection:Le,filter:xe,updateMenuPosition:mt,updateInputValue:Ee,isOptionSelected:Ue,getEmittingOptionValue:ot,isOptionDisabled:(...t)=>we.value.apply(null,t)===!0,getOptionValue:(...t)=>ue.value.apply(null,t),getOptionLabel:(...t)=>U.value.apply(null,t)}),Object.assign(l,{innerValue:a,fieldClass:v(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:ae,targetRef:F,hasValue:T,showPopup:qe,floatingLabel:v(()=>e.hideSelected!==!0&&T.value===!0||typeof g.value=="number"||g.value.length!==0||yt(e.displayValue)),getControlChild:()=>{if(l.editable.value!==!1&&(V.value===!0||A.value!==!0||o["no-option"]!==void 0))return B===!0?al():ll();l.hasPopupOpen===!0&&(l.hasPopupOpen=!1)},controlEvents:{onFocusin(t){l.onControlFocusin(t)},onFocusout(t){l.onControlFocusout(t,()=>{Ve(),Ce()})},onClick(t){if(Ge(t),B!==!0&&i.value===!0){Ce(),F.value!==null&&F.value.focus();return}qe(t)}},getControl:t=>{const s=el(),c=t===!0||V.value!==!0||B!==!0;if(e.useInput===!0)s.push(tl(t,c));else if(l.editable.value===!0){const O=c===!0?Ie.value:void 0;s.push(y("input",{ref:c===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:c===!0?l.targetUid.value:void 0,value:I.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...O,onKeydown:ct,onKeyup:at,onKeypress:st})),c===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&s.push(y("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:rt}))}if(X.value!==void 0&&e.disable!==!0&&Re.value.length!==0){const O=Re.value.map(z=>y("option",{value:z,selected:!0}));s.push(y("select",{class:"hidden",name:X.value,multiple:e.multiple},O))}const x=e.useInput===!0||c!==!0?void 0:l.splitAttrs.attributes.value;return y("div",{class:"q-field__native row items-center",...x,...l.splitAttrs.listeners.value},s)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[y($e,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Be.value})]:null}),Bt(l)}}),gn=fe({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:o}){const n=v(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>y(e.tag,{class:n.value},Te(o.default))}}),Sn=fe({name:"QCardActions",props:{...Ol,vertical:Boolean},setup(e,{slots:o}){const n=Fl(e),m=v(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>y("div",{class:m.value},Te(o.default))}});function _t(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const o=parseInt(e,10);return isNaN(o)?0:o}var yn=Tl({name:"close-popup",beforeMount(e,{value:o}){const n={depth:_t(o),handler(m){n.depth!==0&&setTimeout(()=>{const C=Ql(e);C!==void 0&&Wl(C,m,n.depth)})},handlerKey(m){nt(m,13)===!0&&n.handler(m)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:o,oldValue:n}){o!==n&&(e.__qclosepopup.depth=_t(o))},beforeUnmount(e){const o=e.__qclosepopup;e.removeEventListener("click",o.handler),e.removeEventListener("keyup",o.handlerKey),delete e.__qclosepopup}});export{yn as C,hn as Q,Jl as a,gn as b,Sn as c,ln as d,an as e,mn as f,Ne as r,Vt as u};
